<%inherit file="base.html"/>
<%!
    import lazylibrarian
%>
<%def name="headerIncludes()">
<div id="subhead_container">
    <div id="subhead_menu">
      %if lazylibrarian.DOCKER == False:
        <a onclick="self.shutdownQA(this)" class="button btn btn-sm btn-danger" data-toggle="tooltip" data-placement="bottom" title="Terminate the LazyLibrarian process - Be careful if you're doing this remotely"><i class="fa fa-power-off"></i> Shutdown</a>
      %endif
      <a class="button btn btn-sm btn-warning" onclick="self.restartQA(this, '', '')"><i class="fa fa-sync"></i> Restart</a>
      <button class="button btn btn-sm btn-primary" type="button" value="System Info" id="sysinfo"><i class="fa fa-cogs"></i> System Info</button>
      <button class="button btn btn-sm btn-primary" type="button" value="Show Jobs" id="show_Jobs"><i class="fa fa-list-ul"></i> Job Status</button>
      <button class="button btn btn-sm btn-primary" type="button" value="Show Stats" id="show_Stats"><i class="fa fa-list-ul"></i> DB Stats</button>
      <button class="button btn btn-sm btn-primary" type="button" value="checkforupdates" id="checkforupdates"><i class="fa fa-list-alt"></i> Check Version</button>
      %if lazylibrarian.CONFIG['USER_ACCOUNTS'] == True:
      <a class="button btn btn-sm btn-primary" href="userAdmin"><i class="fa fa-user"></i> User Admin</a>
      %endif
     <button class="hidden" onclick="" id="myAlert" title=""><i class="fa fa-circle-notch fa-spin"></i> Checking, please wait...</button>
    </div>
</div>
</%def>
<%def name="body()">
  <!-- ensure the browser sends form-submission data in the UTF-8 encoding,
       even if the user fiddles with the page encoding -->
  <form accept-charset="UTF-8" action="configUpdate" method="post">
<h1>${title}
    <div class="pull-right table_wrapper_button">
      <input type="submit" value="Save changes" id="add" class="btn btn-primary">
    </div>
</h1>
    <div role="tab-table" class="hidden">
      <!-- if the browser is IE and the user switched the page encoding, force utf8 by adding
      a hidden input to the form with a value such as &#x2713; which can only be from the Unicode charset-->
      <input name="utf8" type="hidden" value="&#x2713;" />
      <div>
        <ul class="nav nav-tabs" role="tablist" id="configtabs">
        <li role="presentation" id="1" aria-controls="webinterface"><a role="tab" data-toggle="tab" aria-controls="webinterface" href="#webinterface">Interface</a></li>
        <li role="presentation" id="2" aria-controls="importoptions"><a role="tab" data-toggle="tab" aria-controls="importoptions" href="#importoptions">Importing</a></li>
        <li role="presentation" id="3" aria-controls="downloadsettings"><a role="tab" data-toggle="tab" aria-controls="downloadsettings" href="#downloadsettings">Downloaders</a></li>
        <li role="presentation" id="4" aria-controls="providers"><a role="tab" data-toggle="tab" aria-controls="providers" href="#providers">Providers</a></li>
        <li role="presentation" id="5" aria-controls="searchprocessing"><a role="tab" data-toggle="tab" aria-controls="searchprocessing" href="#searchprocessing">Processing</a></li>
        <li role="presentation" id="6" aria-controls="notifications"><a role="tab" data-toggle="tab" aria-controls="notifications" href="#notifications">Notifications</a></li>
        <li role="presentation" id="7" aria-controls="capabilities"><a role="tab" data-toggle="tab" aria-controls="capabilities" href="#capabilities">Categories</a></li>
        <li role="presentation" id="8" aria-controls="filters"><a role="tab" data-toggle="tab" aria-controls="filters" href="#filters">Filters</a></li>
        %if lazylibrarian.CONFIG['SHOW_GENRES'] == True:
        <li role="presentation" id="9" aria-controls="genres"><a role="tab" data-toggle="tab" aria-controls="genres" href="#genres">Genres</a></li>
        %endif
        </ul>
        <div class="tab-content">
          <div role="tabpanel" class="tab-pane" id="webinterface">
            <div class="configtable">
              <div class="row">
                <div class="col-md-6">
                  <fieldset>
                    <legend>Server Details</legend>
                    <input type="text" id="current_tab" name="current_tab" value="${lazylibrarian.CURRENT_TAB}" class="hidden">
                    <div class="input-group">
                      <label for="http_host" class="input-group-addon">Host</label>
                      <input type="text" id="http_host" name="http_host" value="${lazylibrarian.CONFIG['HTTP_HOST']}" class="form-control" placeholder="Hostname">
                      <label for="http_port" class="input-group-addon">Port</label>
                      <input type="number" id="http_port" name="http_port" value="${lazylibrarian.CONFIG['HTTP_PORT']}" class="form-control" placeholder="Port Number (Default 5299)">
                    </div>
                    <div class="input-group">
                      <label for="http_root" class="input-group-addon">Web Root</label>
                      <input type="text" id="http_root" name="http_root" value="${lazylibrarian.CONFIG['HTTP_ROOT']}" class="form-control" placeholder="Web Root">
                    </div>
                    <div class="input-group">
                      <label for="user_agent" class="input-group-addon">User Agent</label>
                      <input type="text" id="user_agent" name="user_agent" value="${lazylibrarian.CONFIG['USER_AGENT']}" class="form-control" placeholder="">
                    </div>
                  </fieldset>
                  <fieldset>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['HTTP_PROXY'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="http_proxy" class="control-label">
                      <input type="checkbox" id="http_proxy" name="http_proxy" value="1" ${checked} />
                      HTTP proxy (see wiki)</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['HTTPS_ENABLED'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="https_enabled" class="control-label">
                        <input type="checkbox" id="https_enabled" name="https_enabled" value="1" ${checked} />
                        HTTPS access to lazylibrarian</label>
                    </div>
                    </div>
                  </fieldset>
                    <fieldset id="https_options">
                      <div class="form-group">
                        <label for="https_cert" class="control-label">Https Certificate:</label>
                        <input type="text" id="https_cert" name="https_cert" value="${lazylibrarian.CONFIG['HTTPS_CERT']}" class="form-control" placeholder="https certificate">
                      </div>
                      <div class="form-group">
                        <label for="https_key" class="control-label">Https Key:</label>
                        <input type="text" id="https_key" name="https_key" value="${lazylibrarian.CONFIG['HTTPS_KEY']}" class="form-control" placeholder="https key">
                      </div>
                    </fieldset>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['SSL_VERIFY'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="ssl_verify" class="control-label">
                        <input type="checkbox" id="ssl_verify" name="ssl_verify" value="1" ${checked} />
                        Verify ssl certificates</label>
                    </div>
                    </div>
                    <fieldset id="ssl_options">
                      <div class="form-group">
                        <label for="ssl_certs" class="control-label">SSL Certificates:</label>
                        <input type="text" id="ssl_certs" name="ssl_certs" value="${lazylibrarian.CONFIG['SSL_CERTS']}" class="form-control" placeholder="leave empty to use requests certificate">
                      </div>
                    </fieldset>
                    <fieldset>
                      <legend>Logs</legend>
                      <div class="input-group">
                        <label for="logdir" id="log_label" class="input-group-addon">Folder</label>
                        <input type="text" id="logdir" name="logdir" value="${lazylibrarian.CONFIG['LOGDIR']}" class="form-control" placeholder="Log Folder">
                      </div>
                      <div class="input-group">
                        <label for="log_type" id="log_label" class="input-group-addon">Level</label>
                        <select id="log_type" name="log_type" class="form-control">
                          <%
                            if lazylibrarian.LOGLEVEL == 0:
                                selected = 'selected="selected"'
                            else:
                                selected = ''
                          %>
                          <option value="Quiet" ${selected}>Quiet</option>
                          <%
                            if lazylibrarian.LOGLEVEL == 1:
                                selected = 'selected="selected"'
                            else:
                                selected = ''
                          %>
                          <option value="Normal" ${selected}>Normal</option>
                          <%
                            if lazylibrarian.LOGLEVEL > 1:
                                selected = 'selected="selected"'
                            else:
                                selected = ''
                          %>
                          <option value="Debug" ${selected}>Debug</option>
                        </select>
                        <label for="loglimit" class="input-group-addon">Screen Log</label>
                        <input type="number" id="loglimit" name="loglimit" value="${lazylibrarian.CONFIG['LOGLIMIT']}" class="form-control" placeholder="Number of lines">
                      </div>
                      <div class="input-group">
                        <label for="logfiles" id="log_label" class="input-group-addon">Files</label>
                        <input type="number" id="logfiles" name="logfiles" value="${lazylibrarian.CONFIG['LOGFILES']}" class="form-control" placeholder="Number of files">
                        <label for="logsize" class="input-group-addon">File Size</label>
                        <input type="number" id="logsize" name="logsize" value="${lazylibrarian.CONFIG['LOGSIZE']}" class="form-control" placeholder="Log File Size">
                      </div>
                      %if lazylibrarian.LOGLEVEL > 1:
                      <br>
                      <fieldset id=debug_options>
                      <legend>Detailed Debug Options</legend>
                      <div class="row checkbox">
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_matching:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_matching" class="control-label">
                          <input type="checkbox" id="log_matching" name="log_matching" value="1" ${checked} />
                          Name Matching</label>
                        </div>
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_searching:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_searching" class="control-label">
                          <input type="checkbox" id="log_searching" name="log_searching" value="1" ${checked} />
                          Search Results</label>
                        </div>
                      </div>
                      <div class="row checkbox">
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_dlcomms:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_dlcomms" class="control-label">
                          <input type="checkbox" id="log_dlcomms" name="log_dlcomms" value="1" ${checked} />
                          Downloader Messages</label>
                        </div>
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_dbcomms:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_dbcomms" class="control-label">
                          <input type="checkbox" id="log_dbcomms" name="log_dbcomms" value="1" ${checked} />
                          Database Commands</label>
                        </div>
                      </div>
                      <div class="row checkbox">
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_postprocess:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_postprocess" class="control-label">
                          <input type="checkbox" id="log_postprocess" name="log_postprocess" value="1" ${checked} />
                          PostProcessor</label>
                        </div>
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_fuzz:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_fuzz" class="control-label">
                          <input type="checkbox" id="log_fuzz" name="log_fuzz" value="1" ${checked} />
                          Fuzzy Matching</label>
                        </div>
                      </div>
                      <div class="row checkbox">
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_serverside:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_serverside" class="control-label">
                          <input type="checkbox" id="log_serverside" name="log_serverside" value="1" ${checked} />
                          Serverside Processing</label>
                        </div>
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_fileperms:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_fileperms" class="control-label">
                          <input type="checkbox" id="log_fileperms" name="log_fileperms" value="1" ${checked} />
                          File Permissions</label>
                        </div>
                      </div>
                      <div class="row checkbox">
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_grsync:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_grsync" class="control-label">
                          <input type="checkbox" id="log_grsync" name="log_grsync" value="1" ${checked} />
                          Goodreads Sync</label>
                        </div>
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_cache:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_cache" class="control-label">
                          <input type="checkbox" id="log_cache" name="log_cache" value="1" ${checked} />
                          Caching</label>
                        </div>
                      </div>
                      <div class="row checkbox">
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_libsync:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_libsync" class="control-label">
                          <input type="checkbox" id="log_libsync" name="log_libsync" value="1" ${checked} />
                          Library Scan</label>
                        </div>
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_admin:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_admin" class="control-label">
                          <input type="checkbox" id="log_admin" name="log_admin" value="1" ${checked} />
                          Admin Messages</label>
                        </div>
                      </div>
                      <div class="row checkbox">
                        <div class="col-md-6">
                          <%
                            if lazylibrarian.LOGLEVEL & lazylibrarian.log_cherrypy:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="log_cherrypy" class="control-label">
                          <input type="checkbox" id="log_cherrypy" name="log_cherrypy" value="1" ${checked} />
                          Cherrypy Logging (needs restart)</label>
                        </div>
                      </div>
                      %endif
                    </fieldset>
                  </fieldset>
                  <br>
                  <fieldset>
                    <legend>Proxy Details</legend>
                    <div class="form-group">
                      <label for="proxy_host" class="control-label">Proxy Host:</label>
                      <input type="text" id="proxy_host" name="proxy_host" value="${lazylibrarian.CONFIG['PROXY_HOST']}" class="form-control" placeholder="Proxy Host">
                    </div>
                    <div class="form-group">
                      <label for="proxy_type" class="control-label">Proxy Type:</label>
                      <input type="text" id="proxy_type" name="proxy_type" value="${lazylibrarian.CONFIG['PROXY_TYPE']}" class="form-control" placeholder="Proxy Types">
                      <span class="help-block">Comma separated list http, https, etc</span>
                    </div>
                  </fieldset>
                    <fieldset id=rss_options>
                    <legend>RSS Server</legend>
                        <div class="checkbox">
                          <%
                            if lazylibrarian.CONFIG['RSS_ENABLED'] == True:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="rss_enabled" title="Provide RSS feeds">
                          <input type="checkbox" id="rss_enabled" name="rss_enabled" value="1" ${checked} />
                          Enable RSS</label>
                        </div>
                        <fieldset id="rssoptions">
                            <div class="input-group col-md-6">
                            <span class="input-group-addon">RSS Host/Port</span>
                            <input type="text" id="rss_host" name="rss_host" value="${lazylibrarian.CONFIG['RSS_HOST']}" class="form-control" placeholder="mywebsite.org:port">
                            </div>
                            <span class="help-block">Use if you need to override rss link address</span>
                        %if lazylibrarian.CONFIG['AUDIO_TAB'] == True:
                        <div class="checkbox">
                          <%
                            if lazylibrarian.CONFIG['RSS_PODCAST'] == True:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="rss_podcast" title="Send audiobook RSS feeds as podcasts">
                          <input type="checkbox" id="rss_podcast" name="rss_podcast" value="1" ${checked} />
                          Send AudioBook RSS as Podcasts</label>
                        </div>
                        %endif
                        </fieldset>
                    </fieldset>
                    <fieldset>
                    <legend>OPDS Server</legend>
                        <div class="checkbox">
                          <%
                            if lazylibrarian.CONFIG['OPDS_ENABLED'] == True:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="opds_enabled" title="Allow remote applications to interface with LazyLibrarian">
                          <input type="checkbox" id="opds_enabled" name="opds_enabled" value="1" ${checked} />
                          Enable OPDS</label>
                        </div>
                        <small>Enabling/Disabling OPDS or changing credentials requires restart</small><br>
                        <fieldset id="opdsoptions">
                            <div class="checkbox">
                              <%
                                if lazylibrarian.CONFIG['OPDS_AUTHENTICATION'] == True:
                                    checked = 'checked="checked"'
                                else:
                                    checked = ''
                              %>
                              <label for="opds_authentication" title="OPDS requires username and password">
                              <input type="checkbox" id="opds_authentication" name="opds_authentication" value="1" ${checked} />
                              OPDS Requires Credentials</label>
                            </div>
                            <div id="opdscredentials">
                              <small>If the user/pass below are blank the webserver user/pass will be used</small>
                              <div class="input-group">
                                <label for="opds_username" class="input-group-addon">User</label>
                                <input type="text" id="opds_username" name="opds_username" value="${lazylibrarian.CONFIG['OPDS_USERNAME']}" class="form-control" placeholder="Username">
                                <label for="opds_password" class="input-group-addon">Pass</label>
                                <input type="password" id="opds_password" name="opds_password" value="${lazylibrarian.CONFIG['OPDS_PASSWORD']}" class="form-control" placeholder="Password">
                              </div>
                              <small>NOTE - some OPDS readers do not send authentication for cover images or searches, so we don't send them. If you are getting lists with no images try disabling authentication or upgrading your reader</small>
                            </div>
                            <div class="checkbox">
                              <%
                                if lazylibrarian.CONFIG['OPDS_METAINFO'] == True:
                                    checked = 'checked="checked"'
                                else:
                                    checked = ''
                              %>
                              <label for="opds_metainfo" title="OPDS extra metainfo">
                              <input type="checkbox" id="opds_metainfo" name="opds_metainfo" value="1" ${checked} />
                              OPDS Include MetaInfo</label><br><small>This will include book summary, cover, author details</small>
                            </div>
                            <div class="input-group col-md-6">
                            <label for="opds_page" class="input-group-addon">Page Size</label>
                            <input type="number" id="opds_page" name="opds_page" value="${lazylibrarian.CONFIG['OPDS_PAGE']}" class="form-control" placeholder="Page Size">
                            </div>
                        </fieldset>
                    </fieldset>
                </div>
                <div class="col-md-6">
                  <fieldset>
                    <legend>Access Control</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['USER_ACCOUNTS'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="user_accounts" title="User accounts">
                      <input type="checkbox" id="user_accounts" name="user_accounts" value="1" ${checked} />
                      Enable user accounts</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['SINGLE_USER'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="single_user" title="Bypass login">
                      <input type="checkbox" id="single_user" name="single_user" value="1" ${checked} />
                      Single user bypass login</label>
                    </div>
                    </div>
                  </fieldset>
                  <fieldset>
                    <fieldset id="admin_options">
                    <div class="form-group">
                      <label for="admin_email" class="control-label">Contact Email:</label>
                      <input type="text" id="admin_email" name="admin_email" value="${lazylibrarian.CONFIG['ADMIN_EMAIL']}" class="form-control" placeholder="Contact email for requests/registration">
                    </div>
                    </fieldset>
                    <fieldset id="webserver_options">
                    WebServer Options:
                    <div class="input-group">
                      <label for="http_user" class="input-group-addon">User</label>
                      <input type="text" id="http_user" name="http_user" value="${lazylibrarian.CONFIG['HTTP_USER']}" class="form-control" placeholder="Username">
                      <label for="http_pass" class="input-group-addon">Pass</label>
                      <input type="password" id="http_pass" name="http_pass" value="${lazylibrarian.CONFIG['HTTP_PASS']}" class="form-control" placeholder="Password">
                    </div>
                    <legend>Authentication</legend>
                    <div class="input-group col-md-6">
                      <label for="auth_type" class="input-group-addon">Auth Type:</label>
                      <select id="auth_type" name="auth_type" class="form-control">
                        <%
                        if lazylibrarian.CONFIG['AUTH_TYPE'] == 'BASIC':
                            selected = 'selected="selected"'
                        else:
                            selected = ''
                        %>
                        <option value="BASIC" ${selected}>Basic (Browser Popup)</option>
                        <%
                        if lazylibrarian.CONFIG['AUTH_TYPE'] == 'FORM':
                            selected = 'selected="selected"'
                        else:
                            selected = ''
                        %>
                        <option value="FORM" ${selected}>Form (Login Page)</option>
                      </select>
                    </div>

                    </fieldset>
                    <small>Enabling/Disabling user accounts or changing webserver user/pass requires restart<br></small>
                  </fieldset>
                  <fieldset>
                    <legend>Startup</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['LAUNCH_BROWSER'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="launch_browser" class="control-label">
                      <input type="checkbox" id="launch_browser" name="launch_browser" value="1" ${checked} />
                      Launch browser</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['API_ENABLED'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="api_enabled" title="Allow remote applications to interface with LazyLibrarian">
                      <input type="checkbox" id="api_enabled" name="api_enabled" value="1" ${checked} />
                      Enable API</label>
                    </div>
                    </div>
                  </fieldset>
                  <fieldset>
                    <fieldset id="api_options">
                      <div class="form-group">
                        <label for="api_key">API key</label>
                        <input type="text" name="api_key" id="api_key" value="${lazylibrarian.CONFIG['API_KEY']}" size="36">
                        <input class="button btn btn-sm btn-primary" type="button" value="Generate" id="generateAPI" onClick="document.location.reload(true)">
                        <br>
                        <small>Current API key: <strong>${lazylibrarian.CONFIG['API_KEY']}</strong></small>
                      </div>
                    </fieldset>
                  </fieldset>
                  <fieldset>
                    <legend>Appearance</legend>
                    <div class="form-group">
                      <label for="http_look">Interface:</label>
                      <select id="http_look" name="http_look" class="form-control">
                        %for http_look in config['http_look_list']:
                        <%
                        if http_look == lazylibrarian.CONFIG['HTTP_LOOK']:
                            selected = 'selected="selected"'
                        else:
                            selected = ''
                        %>
                        <option value="${http_look}" ${selected}>${http_look}</option>
                        %endfor
                      </select>
                    </div>
                    <div class="checkbox hidden"> <!-- Not really required? -->
                      <label for="bookstrap" class="control-label">
                        <input type="checkbox" name="use_bookstrap" id="bookstrap" value="1" ${checked} />
                        Use Bookstrap</label>
                    </div>
                    <fieldset id="bookstrap_options">
                      <div class="form_group">
                        <label for="bookstrap_theme" class="control-label">Bootswatch Theme:</label>
                        <select name="bookstrap_theme" id="bookstrap_theme" class="form-control">
                          %for bookstrap_theme in lazylibrarian.BOOKSTRAP_THEMELIST:
                          <%
                            if bookstrap_theme == lazylibrarian.CONFIG['BOOKSTRAP_THEME']:
                                selected = 'selected="selected"'
                            else:
                                selected = ''
                          %>
                          <option value="${bookstrap_theme}" ${selected}>${bookstrap_theme}</option>
                          %endfor
                        </select>
                      </div>
                    </fieldset>
                    <div class="row checkbox">
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['AUTHOR_IMG'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="author_img" class="control-label">
                        <input type="checkbox" id="author_img" name="author_img" value="1" ${checked} />
                        Show Author Images</label>
                      </div>
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['BOOK_IMG'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="book_img" class="control-label">
                        <input type="checkbox" id="book_img" name="book_img" value="1" ${checked} />
                        Show Book Images</label>
                      </div>
                    </div>
                    <div class="row checkbox">
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['EBOOK_TAB'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="ebook_tab" class="control-label">
                          <input type="checkbox" id="ebook_tab" name="ebook_tab" value="1" ${checked} />
                          Show eBooks</label>
                      </div>
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['AUDIO_TAB'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="audio_tab" class="control-label">
                          <input type="checkbox" id="audio_tab" name="audio_tab" value="1" ${checked} />
                          Show AudioBooks</label>
                      </div>
                    </div>
                    <div class="row checkbox">
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['MAG_TAB'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="mag_tab" class="control-label">
                          <input type="checkbox" id="mag_tab" name="mag_tab" value="1" ${checked} />
                          Show Magazines</label>
                      </div>
                      %if lazylibrarian.CONFIG['MAG_TAB'] == True:
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['MAG_IMG'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="mag_img" class="control-label">
                          <input type="checkbox" id="mag_img" name="mag_img" value="1" ${checked} />
                          Show Magazine Images</label>
                      </div>
                      % endif
                    </div>
                    <div class="row checkbox">
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['COMIC_TAB'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="comic_tab" class="control-label">
                          <input type="checkbox" id="comic_tab" name="comic_tab" value="1" ${checked} />
                          Show Comics</label>
                      </div>
                      %if lazylibrarian.CONFIG['COMIC_TAB'] == True:
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['COMIC_IMG'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="comic_img" class="control-label">
                          <input type="checkbox" id="comic_img" name="comic_img" value="1" ${checked} />
                          Show Comic Images</label>
                      </div>
                      %endif
                    </div>
                    <div class="row checkbox">
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['SERIES_TAB'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="series_tab" class="control-label">
                          <input type="checkbox" id="series_tab" name="series_tab" value="1" ${checked} />
                          Show Series</label>
                      </div>
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['RATESTARS'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="ratestars" class="control-label">
                          <input type="checkbox" id="ratestars" name="ratestars" value="1" ${checked} />
                          Show rating as stars</label>
                      </div>
                    </div>
                    <div class="row checkbox">
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['TOGGLES'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="toggles" class="control-label">
                          <input type="checkbox" id="toggles" name="toggles" value="1" ${checked} />
                          Show column toggles</label>
                      </div>
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['SORT_SURNAME'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="sort_surname" class="control-label">
                          <input type="checkbox" id="sort_surname" name="sort_surname" value="1" ${checked} />
                          Show author surname first</label>
                      </div>
                    </div>
                    <div class="row checkbox">
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['SHOW_GENRES'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="show_genres" class="control-label">
                          <input type="checkbox" id="show_genres" name="show_genres" value="1" ${checked} />
                          Show genres</label>
                      </div>
                      %if lazylibrarian.APPRISE and lazylibrarian.APPRISE[0].isdigit():
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['HIDE_OLD_NOTIFIERS'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="hide_old_notifiers" class="control-label">
                          <input type="checkbox" id="hide_old_notifiers" name="hide_old_notifiers" value="1" ${checked} />
                          Hide old notifiers</label>
                      </div>
                    </div>
                    <div class="row checkbox">
                    %endif
                      <div class="col-md-12">
                      <%
                        if lazylibrarian.CONFIG['SORT_DEFINITE'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="sort_definite" class="control-label">
                        <input type="checkbox" id="sort_definite" name="sort_definite" value="1" ${checked} />
                        Show titles ignoring definite article (The, A)</label>
                      </div>
                      <div class="col-md-12">
                      <%
                        if lazylibrarian.CONFIG['IGNORE_PAUSED'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="ignore_paused" class="control-label">
                        <input type="checkbox" id="ignore_paused" name="ignore_paused" value="1" ${checked} />
                        Ignore paused authors</label>
                      </div>
                    </div>
                  </fieldset>
                </div>
              </div>
            </div>
          </div> <!-- end of web interface tab panel -->
          <div role="tabpanel" class="tab-pane" id="importoptions">
            <div class="configtable">
              <div class="row">
                <div class="col-md-4">
                <fieldset>
                  <legend>Information Sources</legend>
                  <div class="form-group">
                    <%
                    if lazylibrarian.CONFIG['BOOK_API'] == "GoodReads":
                        gr_selected = 'selected="selected"'
                        gb_selected = ''
                        ol_selected = ''
                    elif lazylibrarian.CONFIG['BOOK_API'] == "GoogleBooks":
                        gr_selected = ''
                        gb_selected = 'selected="selected"'
                        ol_selected = ''
                    elif lazylibrarian.CONFIG['BOOK_API'] == "OpenLibrary":
                        gr_selected = ''
                        gb_selected = ''
                        ol_selected = 'selected="selected"'
                    %>
                    <label for="book_api" class="control-label">Book Information</label>
                    <select id="book_api" name="book_api" class="form-control">
                      <option value = "GoodReads" ${gr_selected}>GoodReads</option>
                      <option value = "GoogleBooks" ${gb_selected}>GoogleBooks</option>
                      <option value = "OpenLibrary" ${ol_selected}>OpenLibrary</option>
                    </select>
                  </div>
                  <fieldset id="gb_options">
                  <div class="form-group">
                    <label for="gb_api" class="control-label">GoogleBooks API:</label>
                    <input type="text" id="gb_api" name="gb_api" value="${lazylibrarian.CONFIG['GB_API']}" class="form-control">
                  </div>
                  <div class="form-group">
                    <label for="gb_country" class="control-label">GoogleBooks Country:</label>
                    <input type="text" id="gb_country" name="gb_country" value="${lazylibrarian.CONFIG['GB_COUNTRY']}" class="form-control">
                    <span class="help-block">Two letter country code for geographically restricted content e.g: US GB ES</span>
                  </div>
                  </fieldset>
                  <fieldset id="gr_options">
                  <div class="form-group">
                    <label for="gr_api">Goodreads API:</label>
                    <input type="text" id="gr_api" name="gr_api" value="${lazylibrarian.CONFIG['GR_API']}" class="form-control"     placeholder="Goodreads API">
                    <div class="checkbox">
                      <%
                        if lazylibrarian.CONFIG['GR_SYNC'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="gr_sync" class="control-label">
                        <input type="checkbox" id="gr_sync" name="gr_sync" value="1" ${checked} />
                        Enable GoodReads Sync</label>
                    </div>
                    <fieldset id="grsync_options">
                      <div class="checkbox">
                        <%
                          if lazylibrarian.CONFIG['GR_SYNCREADONLY'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="gr_syncreadonly" class="control-label">
                          <input type="checkbox" id="gr_syncreadonly" name="gr_syncreadonly" value="1" ${checked} />
                          Use GoodReads shelves as read-only</label>
                      </div>
                      <label for="gr_secret">Goodreads Secret:</label>
                      <input type="text" id="gr_secret" name="gr_secret" value="${lazylibrarian.CONFIG['GR_SECRET']}" class="form-control">
                      <label for="gr_oauth_token">Goodreads OAuth Token:</label>
                      <input type="text" id="gr_oauth_token" name="gr_oauth_token" value="${lazylibrarian.CONFIG['GR_OAUTH_TOKEN']}" class="form-control">
                      <label for="gr_oauth_secret">Goodreads OAuth Secret:</label>
                      <input type="text" id="gr_oauth_secret" name="gr_oauth_secret" value="${lazylibrarian.CONFIG['GR_OAUTH_SECRET']}" class="form-control">
                      <div class="checkbox">
                        <%
                          if lazylibrarian.CONFIG['GR_SYNCUSER'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="GR_SYNCUSER" class="control-label">
                          <input type="checkbox" id="gr_syncuser" name="gr_syncuser" value="1" ${checked} />
                          Use GoodReads shelves as user reading list
                        %if not lazylibrarian.CONFIG['USER_ACCOUNTS']:
                           <p>(enable USER_ACCOUNTS to get user ID)
                        %endif
                        </label>
                      </div>
                      <fieldset id="gruser_options">
                      <label for="gr_user">UserID to sync:</label>
                        <input type="text" id="gr_user" name="gr_user" value="${lazylibrarian.CONFIG['GR_USER']}" class="form-control">
                        </fieldset>
                      <fieldset id="grlibrary_options">
                      %if lazylibrarian.CONFIG['EBOOK_TAB'] == True:
                      <label for="gr_wanted">Sync Wanted eBooks to Goodreads shelf:</label>
                      <input type="text" id="gr_wanted" name="gr_wanted" value="${lazylibrarian.CONFIG['GR_WANTED']}" class="form-control" placeholder="eg: to-read">
                      <label for="gr_owned">Sync Owned eBooks to Goodreads shelf:</label>
                      <input type="text" id="gr_owned" name="gr_owned" value="${lazylibrarian.CONFIG['GR_OWNED']}" class="form-control" placeholder="eg: owned">
                      %endif
                      %if lazylibrarian.CONFIG['AUDIO_TAB'] == True:
                      <fieldset id="graudio_options">
                        <label for="gr_awanted">Sync Wanted AudioBooks to Goodreads shelf:</label>
                        <input type="text" id="gr_awanted" name="gr_awanted" value="${lazylibrarian.CONFIG['GR_AWANTED']}" class="form-control" placeholder="eg: audio_wanted">
                        <label for="gr_owned">Sync Owned AudioBooks to Goodreads shelf:</label>
                        <input type="text" id="gr_aowned" name="gr_aowned" value="${lazylibrarian.CONFIG['GR_AOWNED']} "class="form-control" placeholder="eg: audio_owned">
                      </fieldset>
                      %endif
                        <div class="checkbox">
                          <%
                            if lazylibrarian.CONFIG['GR_UNIQUE'] == True:
                                checked = 'checked="checked"'
                            else:
                                checked = ''
                          %>
                          <label for="gr_unique" class="control-label">
                            <input type="checkbox" id="gr_unique" name="gr_unique" value="1" ${checked} />
                            Delete from GoodReads Wanted shelf if also on Open/Have shelf</label>
                        </div>
                      </fieldset>
                      <div class="form-group">
                        <label for="goodreads_interval" class="control-label">Goodreads Sync Interval:</label>
                        <div class="input-group">
                          <input type="number" id="goodreads_interval" name="goodreads_interval" value="${lazylibrarian.CONFIG['GOODREADS_INTERVAL']}" class="form-control" placeholder="Goodreads Sync interval (hours)" >
                          <span class="input-group-addon">Hours</span>
                        </div>
                      </div>
                      <div class="form-group">
                        <input type="button" value="Request oAuth1" id="grauthStep1" class="btn btn-default" />
                        <input type="button" value="Request oAuth2" id="grauthStep2" class="btn btn-default" />
                      </div>
                      <div class="form-group">
                        <input type="button" value="Test Authorization" id="testgrauth" class="btn btn-default" />
                      </div>
                    </fieldset>
                  </div>
                  </fieldset>
                  <div class="form-group">
                    <label for="lt_devkey" class="control-label">LibraryThing Developer Key:</label>
                    <input type="text" id="lt_devkey" name="lt_devkey" value="${lazylibrarian.CONFIG['LT_DEVKEY']}" class="form-control" placeholder="optional, for book covers">
                  </div>
                </fieldset>
                <fieldset>
                  %if lazylibrarian.CONFIG['COMIC_TAB'] == True:
                  <div class="form-group">
                    <label for="cv_apikey" class="control-label">ComicVine Api Key:</label>
                    <input type="text" id="cv_apikey" name="cv_apikey" value="${lazylibrarian.CONFIG['CV_APIKEY']}" class="form-control" placeholder="optional">
                  </div>
                  <div class="checkbox">
                    <%
                    if lazylibrarian.CONFIG['CV_WEBSEARCH'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                    <label for="cv_websearch">
                      <input type="checkbox" id="cv_websearch" name="cv_websearch" value="1" ${checked} />
                      Try web search if api returns no results<br><small>WARNING this may get your api key blocked</small></label>
                  </div>
                  %endif
                </fieldset>
              </div>
              <div class="col-md-4">
                <fieldset>
                  <legend>File Formats</legend>
                  %if lazylibrarian.CONFIG['EBOOK_TAB'] == True:
                  <div class="form-group">
                    <label for="ebook_type" class="control-label">eBooks:</label>
                    <input type="text" id="ebook_type" name="ebook_type" value="${lazylibrarian.CONFIG['EBOOK_TYPE']}" class="form-control" placeholder="eBook file formats">
                    <span class="help-block">Comma separated file extensions</span>
                  </div>
                  %endif
                  %if lazylibrarian.CONFIG['AUDIO_TAB'] == True:
                  <div class="form-group">
                    <label for="audiobook_type" class="control-label">AudioBooks:</label>
                    <input type="text" id="audiobook_type" name="audiobook_type" value="${lazylibrarian.CONFIG['AUDIOBOOK_TYPE']}" class="form-control" placeholder="AudioBook file formats">
                    <span class="help-block">Comma separated file extensions</span>
                  </div>
                  %endif
                  %if lazylibrarian.CONFIG['MAG_TAB'] == True:
                  <div class="form-group">
                    <label for="mag_type" class="control-label">Magazines:</label>
                    <input type="text" id="mag_type" name="mag_type" value="${lazylibrarian.CONFIG['MAG_TYPE']}" class="form-control"       placeholder="Magazine file formats">
                    <span class="help-block">Comma separated file extensions</span>
                  </div>
                  %endif
                  %if lazylibrarian.CONFIG['COMIC_TAB'] == True:
                  <div class="form-group">
                    <label for="mag_type" class="control-label">Comics:</label>
                    <input type="text" id="comic_type" name="comic_type" value="${lazylibrarian.CONFIG['COMIC_TYPE']}" class="form-control"       placeholder="Comic file formats">
                    <span class="help-block">Comma separated file extensions</span>
                  </div>
                  %endif
                  <div class="checkbox">
                    <%
                    if lazylibrarian.CONFIG['NO_FUTURE'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                    <label for="no_future">
                      <input type="checkbox" id="no_future" name="no_future" value="1" ${checked} />
                      Ignore books with future publication date</label>
                  </div>
                  <div class="checkbox">
                    <%
                    if lazylibrarian.CONFIG['NO_PUBDATE'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                    <label for="no_pubdate">
                      <input type="checkbox" id="no_pubdate" name="no_pubdate" value="1" ${checked} />
                      Ignore books with unknown publication date</label>
                  </div>
                  <div class="checkbox">
                    <%
                    if lazylibrarian.CONFIG['NO_ISBN'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                    <label for="no_isbn">
                      <input type="checkbox" id="no_isbn" name="no_isbn" value="1" ${checked} />
                      Ignore books with no isbn</label>
                  </div>
                  <div class="checkbox">
                    <%
                    if lazylibrarian.CONFIG['NO_SETS'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                    <label for="no_sets">
                      <input type="checkbox" id="no_sets" name="no_sets" value="1" ${checked} />
                      Ignore part books and sets</label>
                  </div>
                  <div class="checkbox">
                    <%
                    if lazylibrarian.CONFIG['NO_LANG'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                    <label for="no_lang">
                      <input type="checkbox" id="no_lang" name="no_lang" value="1" ${checked} />
                      Treat invalid language as ignored</label>
                  </div>
                  <div class="checkbox">
                    <%
                    if lazylibrarian.CONFIG['IMP_IGNORE'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                    <label for="imp_ignore">
                      <input type="checkbox" id="imp_ignore" name="imp_ignore" value="1" ${checked} />
                      Add ignored books to database (marked Ignored)</label>
                  </div>
                  <div class="checkbox">
                    <%
                    if lazylibrarian.CONFIG['IMP_GOOGLEIMAGE'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                    <label for="imp_googleimage">
                      <input type="checkbox" id="imp_googleimage" name="imp_googleimage" value="1" ${checked} />
                      Try google image search as final option for missing book covers</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['DELETE_CSV'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="delete_csv">
                      <input type="checkbox" id="delete_csv" name="delete_csv" value="1" ${checked} />
                      Delete csv file or wishlist after successful import</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['BLACKLIST_FAILED'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="blacklist_failed">
                      <input type="checkbox" id="blacklist_failed" name="blacklist_failed" value="1" ${checked} />
                      Blacklist failed downloads in history table</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['BLACKLIST_PROCESSED'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="blacklist_processed">
                      <input type="checkbox" id="blacklist_processed" name="blacklist_processed" value="1" ${checked} />
                      Blacklist processed downloads in history table</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['DELAYSEARCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="delaysearch">
                      <input type="checkbox" id="delaysearch" name="delaysearch" value="1" ${checked} />
                      Increase delay for previously failed searches</label>
                  </div>
                </fieldset>
              </div>
              <div class="col-md-4">
                <fieldset>
                  <legend>Language</legend>
                  <div class="form-group">
                    <label for="imp_preflang" class="control-label">Import languages:</label>
                    <input type="text" id="imp_preflang" name="imp_preflang" value="${lazylibrarian.CONFIG['IMP_PREFLANG']}" class="form-control" placeholder="Import Languages">
                    <span class="help-block">Comma separated country shortcodes:<br/>
                      GoodReads e.g: eng, en-US, spa, ita<br/>
                      GoogleBooks e.g: en, es, it<br/>
                      Default: en, eng, en-US<br/>
                      Try adding "Unknown" to list if GoodReads is missing results, or "All" if you don't want to check for language</span>
                  </div>
                  <div class="form-group">
                    <label for="imp_monthlang" class="control=label">Languages for month names:</label>
                    <input type="text" id="imp_monthlang" name="imp_monthlang" value="${lazylibrarian.CONFIG['IMP_MONTHLANG']}" class="form-control" placeholder="Languages for month names">
                    <span class="help-block">Comma separated language codes for magazine issues:<br/>
                      e.g: fr_FR.utf8, es_ES.utf8<br/>
                      English month names are preloaded<br/>Changes to this setting require a restart</span>
                  </div>
                  <legend>Date Formats</legend>
                    <div class="row">
                   <div class="col-md-6">
                    <label for="date_format" class="control=label">Added Dates:</label>
                    <input type="text" id="date_format" name="date_format" value="${lazylibrarian.CONFIG['DATE_FORMAT']}" class="form-control" placeholder="Format for column dates">
                   </div>
                   <div class="col-md-6">
                    <label for="iss_format" class="control=label">Issue Dates:</label>
                    <input type="text" id="iss_format" name="iss_format" value="${lazylibrarian.CONFIG['ISS_FORMAT']}" class="form-control" placeholder="Format for issue dates">
                  </div>
                  </div>
                  <span class="help-block">$d Day of the month as a number<br>$b Month as abbreviated name<br>$B Month as full name<br>$m Month as a number<br>$y	Year without century<br>$Y	Year with century<br>eg $Y-$m-$d</span>
                </fieldset>
              </div>
            </div>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="downloadsettings">
          <div class="configtable">
            <div class="row">
              <div class="col-md-6">
                <fieldset>
                  <legend>Usenet</legend>
                  <fieldset class="usenet_options">
                    <div class="checkbox">
                      <%
                        if lazylibrarian.CONFIG['NZB_DOWNLOADER_SABNZBD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="nzb_downloader_sabnzbd" class="control-label">
                        <input type="checkbox" id="nzb_downloader_sabnzbd" name="nzb_downloader_sabnzbd" value="1" ${checked} />
                        Use Sabnzbd+</label>
                    </div>
                    <fieldset id="sabnzbd_options">
                      <legend>SABnzbd+</legend>
                      <div class="row">
                        <div class="form-group col-md-8">
                          <label for="sab_host" class="control-label">SABnzbd Host:</label>
                          <input type="text" id="sab_host" name="sab_host" value="${lazylibrarian.CONFIG['SAB_HOST']}" class="form-control" placeholder="SABnzbd Host">
                        </div>
                        <div class="form-group col-md-4">
                          <label for="sab_port" class="control-label">SABnzbd Port:</label>
                          <input type="number" id="sab_port" name="sab_port" value="${lazylibrarian.CONFIG['SAB_PORT']}" class="form-control"     placeholder="SABnzbd Port">
                        </div>
                      </div>
                      <div class="row">
                        <div class="form-group col-md-6">
                          <label for="sab_user">SABnzbd Username</label>
                          <input type="text" id="sab_user" name="sab_user" value="${lazylibrarian.CONFIG['SAB_USER']}" class="form-control" placeholder="SABnzbd Username">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="sab_pass" class="control-label">SABnzbd Password:</label>
                          <input type="password" id="sab_pass" name="sab_pass" value="${lazylibrarian.CONFIG['SAB_PASS']}" class="form-control"     placeholder="SABnzbd Password">
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="sab_api" class="control-label">SABnzbd API Key:</label>
                        <input type="text" id="sab_api" name="sab_api" value="${lazylibrarian.CONFIG['SAB_API']}" class="form-control"      placeholder="SABnzbd API Key">
                      </div>
                      <div class="row">
                        <div class="form-group col-md-6">
                          <label for="sab_cat">SABnzbd Category:</label>
                          <input type="text" id="sab_cat" name="sab_cat" value="${lazylibrarian.CONFIG['SAB_CAT']}" class="form-control"      placeholder="SABnzbd Category">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="sab_subdir" class="control-label">SABnzbd URL Base:</label>
                          <input type="text" id="sab_subdir" name="sab_subdir" value="${lazylibrarian.CONFIG['SAB_SUBDIR']}" class="form-control"     placeholder="URL Base">
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                        <div class="input-group">
                          <span class="input-group-addon">Ext Host/Port</span>
                          <input type="text" id="sab_external_host" name="sab_external_host" value="${lazylibrarian.CONFIG['SAB_EXTERNAL_HOST']}" class="form-control" placeholder="mywebsite.org:port">
                        </div>
                        <span class="help-block">Use if you need to get sab to download the nzb file from lazylibrarian</span>
                        </div>
                        <div class="col-md-6">
                          <button class="button btn btn-sm btn-primary" type="button" value="Test SABnzbd" id="testSABnzbd"><i class="fa fa-list-ul"></i> Test SABnzbd</button>
                          <br>
                        </div>
                      </div>
                      <div class="checkbox">
                        <%
                          if lazylibrarian.CONFIG['SAB_DELETE'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="sab_delete" class="control-label">
                        <input type="checkbox" id="sab_delete" name="sab_delete" value="1" ${checked} />
                        Delete from sabnzbd history</label>
                      </div>
                    </fieldset>
                    <div class="checkbox">
                      <%
                        if lazylibrarian.CONFIG['NZB_DOWNLOADER_NZBGET'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="nzb_downloader_nzbget" class="control-label">
                      <input type="checkbox" id="nzb_downloader_nzbget" name="nzb_downloader_nzbget" value="1" ${checked} />
                      Use NZBGet</label>
                    </div>
                    <fieldset id="nzbget_options">
                      <legend>NZBGet</legend>
                      <div class="row">
                        <div class="form-group col-md-8">
                          <label for="nzbget_host" class="control-label">NZBGet Host:</label>
                          <input type="text" id="nzbget_host" name="nzbget_host" value="${lazylibrarian.CONFIG['NZBGET_HOST']}" class="form-control" placeholder="NZBGet Host">
                        </div>
                        <div class="form-group col-md-4">
                          <label for="nzbget_port" class="control-label">Port</label>
                          <input type="number" id="nzbget_port" name="nzbget_port" value="${lazylibrarian.CONFIG['NZBGET_PORT']}" class="form-control" placeholder="NZBGet Port">
                        </div>
                      </div>
                      <div class="row">
                        <div class="form-group col-md-6">
                          <label for="nzbget_user" class="control-label">Username</label>
                          <input type="text" id="nzbget_user" name="nzbget_user" value="${lazylibrarian.CONFIG['NZBGET_USER']}" class="form-control" placeholder="NZBGet Username">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="nzbget_pass">Password:</label>
                          <input type="password" id="nzbget_pass" name="nzbget_pass" value="${lazylibrarian.CONFIG['NZBGET_PASS']}" class="form-control" placeholder="NZBGet Password">
                        </div>
                      </div>
                      <div class="row">
                        <div class="form-group col-md-6">
                          <label for="nzbget_category" class="control-label">Category:</label>
                          <input type="text" id="nzbget_category" name="nzbget_category" value="${lazylibrarian.CONFIG['NZBGET_CATEGORY']}" class="form-control" placeholder="NZBGet Category">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="nzbget_priority">Priority:</label>
                          <input type="text" id="nzbget_priority" name="nzbget_priority" value="${lazylibrarian.CONFIG['NZBGET_PRIORITY']}" class="form-control" placeholder="NZBGet Priority">
                        </div>
                      </div>
                      <div class="row">
                      <div class="col-md-6">
                        <button class="button btn btn-sm btn-primary" type="button" value="Test NZBget" id="testNZBget"><i class="fa fa-list-ul"></i> Test NZBget</button>
                        <br>
                        <br>
                      </div>
                      </div>
                    </fieldset>
                    <div class="checkbox">
                      <%
                        if lazylibrarian.CONFIG['USE_SYNOLOGY'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="use_synology" class="control-label">
                        <input type="checkbox" id="use_synology" name="use_synology" value="1" ${checked} />
                        Use Synology DownloadStation</label>
                    </div>
                    <fieldset id="synology_options">
                      <legend>Synology</legend>
                      <div class="row">
                        <div class="form-group col-md-8">
                          <label for="synology_host" class="control-label">Synology Host:</label>
                          <input type="text" id="synology_host" name="synology_host" value="${lazylibrarian.CONFIG['SYNOLOGY_HOST']}" class="form-control" placeholder="Synology Host">
                        </div>
                        <div class="form-group col-md-4">
                          <label for="synology_port" class="control-label">Port</label>
                          <input type="number" id="synology_port" name="synology_port" value="${lazylibrarian.CONFIG['SYNOLOGY_PORT']}" class="form-control" placeholder="Synology Port">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="synology_user" class="control-label">Username</label>
                          <input type="text" id="synology_user" name="synology_user" value="${lazylibrarian.CONFIG['SYNOLOGY_USER']}" class="form-control" placeholder="Synology Username">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="synology_pass">Password:</label>
                          <input type="password" id="synology_pass" name="synology_pass" value="${lazylibrarian.CONFIG['SYNOLOGY_PASS']}" class="form-control" placeholder="Synology Password">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="synology_dir">Directory:</label>
                          <input type="text" id="synology_dir" name="synology_dir" value="${lazylibrarian.CONFIG['SYNOLOGY_DIR']}" class="form-control" placeholder="Synology Directory">
                        </div>
                      </div>
                      <div class="row checkbox">
                      <div class="col-md-6">
                        <%
                        if lazylibrarian.CONFIG['NZB_DOWNLOADER_SYNOLOGY'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                        <label for="nzb_downloader_synology" class="control-label">
                          <input type="checkbox" id="nzb_downloader_synology" name="nzb_downloader_synology" value="1" ${checked} />
                          Use DownloadStation for usenet</label>
                      </div>
                      <div class="col-md-6">
                        <%
                        if lazylibrarian.CONFIG['TOR_DOWNLOADER_SYNOLOGY'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                        <label for="tor_downloader_synology" class="control-label">
                          <input type="checkbox" id="tor_downloader_synology" name="tor_downloader_synology" value="1" ${checked} />
                          Use DownloadStation for torrents</label>
                      </div>
                      </div>
                      <div class="row">
                      <div class="col-md-6">
                        <button class="button btn btn-sm btn-primary" type="button" value="Test Synology" id="testSynology"><i class="fa fa-list-ul"></i> Test Synology</button>
                        <br>
                        <br>
                      </div>
                      </div>
                    </fieldset>
                    <div class="checkbox">
                      <%
                        if lazylibrarian.CONFIG['NZB_DOWNLOADER_BLACKHOLE'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="nzb_downloader_blackhole" class="control-label">
                        <input type="checkbox" id="nzb_downloader_blackhole" name="nzb_downloader_blackhole" value="1" ${checked} />
                        Use NZB Blackhole</label>
                    </div>
                    <fieldset id="nzb_blackhole_options">
                      <legend>NZB Blackhole</legend>
                      <div class="form-group">
                        <label for="nzb_blackholedir" class="control-label">NZB Blackhole Directory:</label>
                        <input type="text" id="nzb_blackholedir" name="nzb_blackholedir" value="${lazylibrarian.CONFIG['NZB_BLACKHOLEDIR']}" class="form-control" placeholder="NZB Blackhole Directory">
                      </div>
                    </fieldset>
                    <div class="input-group col-md-8">
                      <label for="usenet_retention" class="input-group-addon">Usenet Retention</label>
                      <input type="number" id="usenet_retention" name="usenet_retention" value="${lazylibrarian.CONFIG['USENET_RETENTION']}" class="form-control" placeholder="Retention Maximum Age">
                      <span class="input-group-addon">Days</span>
                    </div>
                  </fieldset>
                </fieldset>
              </div>
              <div class="col-md-6">
              <fieldset>
              <legend>Torrents</legend>
              <fieldset id="torrent_options">
                <div class="checkbox">
                  <%
                    if lazylibrarian.CONFIG['TOR_DOWNLOADER_DELUGE'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="tor_downloader_deluge" class="control-label">
                    <input type="checkbox" id="tor_downloader_deluge" name="tor_downloader_deluge" value="1" ${checked} />
                    Use Deluge</label>
                </div>
                  <fieldset id="deluge_options">
                    <legend>Deluge</legend>
                    <div class="row">
                      <div class="form-group col-md-8">
                        <label for="deluge_host">Deluge Host:</label>
                        <input type="text" id="deluge_host" name="deluge_host" value="${lazylibrarian.CONFIG['DELUGE_HOST']}" class="form-control" placeholder="Deluge Host">
                      </div>
                      <div class="form-group col-md-4">
                        <label for="deluge_port" class="control-label">Daemon or webUI Port:</label>
                        <input type="number" id="deluge_port" name="deluge_port" value="${lazylibrarian.CONFIG['DELUGE_PORT']}" class="form-control" placeholder="Deluge Port">
                      </div>
                    </div>
                    <div class="row">
                      <div class="form-group col-md-8">
                        <label for="deluge_cert">Deluge Certificate:</label>
                        <input type="text" id="deluge_cert" name="deluge_cert" value="${lazylibrarian.CONFIG['DELUGE_CERT']}" class="form-control" placeholder="webUI only">
                      </div>
                      <div class="form-group col-md-4">
                        <label for="deluge_base">Deluge URL Base:</label>
                        <input type="text" id="deluge_base" name="deluge_base" value="${lazylibrarian.CONFIG['DELUGE_BASE']}" class="form-control" placeholder="URL Base">
                      </div>
                    </div>
                    <div class="row">
                      <div class="form-group col-md-6">
                        <label for="deluge_user" class="controllabel">Username:</label>
                        <input type="text" id="deluge_user" name="deluge_user" value="${lazylibrarian.CONFIG['DELUGE_USER']}" class="form-control" placeholder="daemon only">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="deluge_pass" class="control-label">Password:</label>
                        <input type="password" id="deluge_pass" name="deluge_pass" value="${lazylibrarian.CONFIG['DELUGE_PASS']}" class="form-control" placeholder="Deluge Password">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="deluge_label" class="control-label">Deluge Label:</label>
                        <input type="text" id="deluge_label" name="deluge_label" value="${lazylibrarian.CONFIG['DELUGE_LABEL']}" class="form-control" placeholder="Deluge Label">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="deluge_dir" class="control-label">Download directory :</label>
                        <input type="text" id="deluge_dir" name="deluge_dir" value="${lazylibrarian.CONFIG['DELUGE_DIR']}" class="form-control" placeholder="use deluge default">
                      </div>
                      <div class="col-md-6">
                        <button class="button btn btn-sm btn-primary" type="button" value="Test Deluge" id="testDeluge"><i class="fa fa-list-ul"></i> Test Deluge</button>
                        <br>
                        <br>
                      </div>
                    </div>
                  </fieldset>
                  <div class="checkbox">
                    <%
                      if lazylibrarian.CONFIG['TOR_DOWNLOADER_TRANSMISSION'] == True:
                          checked = 'checked="checked"'
                      else:
                          checked = ''
                    %>
                    <label for="tor_downloader_transmission" class="control-label">
                    <input type="checkbox" id="tor_downloader_transmission" name="tor_downloader_transmission" value="1" ${checked} />
                    Use Transmission</label>
                  </div>
                  <fieldset id="transmission_options">
                    <legend>Transmission</legend>
                    <div class="row">
                      <div class="form-group col-md-8">
                        <label for="transmission_host" class="control-label">Transmission Host:</label>
                        <input type="text" id="transmission_host" name="transmission_host" value="${lazylibrarian.CONFIG['TRANSMISSION_HOST']}" class="form-control" placeholder="Transmission host">
                      </div>
                      <div class="form-group col-md-4">
                        <label for="transmission_port" class="control-label">Transmission Port :</label>
                        <input type="number" id="transmission_port" name="transmission_port" value="${lazylibrarian.CONFIG['TRANSMISSION_PORT']}" class="form-control" placeholder="Transmission port">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="transmission_user" class="control-label">Username :</label>
                        <input type="text" id="transmission_user" name="transmission_user" value="${lazylibrarian.CONFIG['TRANSMISSION_USER']}" class="form-control" placeholder="Transmission Username">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="transmission_pass" class="control-label">Password :</label>
                        <input type="password" id="transmission_pass" name="transmission_pass" value="${lazylibrarian.CONFIG['TRANSMISSION_PASS']}" class="form-control" placeholder="Transmission Password">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="transmission_dir" class="control-label">Download directory :</label>
                        <input type="text" id="transmission_dir" name="transmission_dir" value="${lazylibrarian.CONFIG['TRANSMISSION_DIR']}" class="form-control" placeholder="use transmission default">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="transmission_base" class="control-label">Transmission URL Base:</label>
                        <input type="text" id="transmission_base" name="transmission_base" value="${lazylibrarian.CONFIG['TRANSMISSION_BASE']}" class="form-control" placeholder="/transmission">
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <button class="button btn btn-sm btn-primary" type="button" value="Test Transmission" id="testTransmission"><i class="fa fa-list-ul"></i> Test Transmission</button>
                        <br>
                        <br>
                      </div>
                    </div>
                  </fieldset>
                  <div class="checkbox">
                    <%
                    if lazylibrarian.CONFIG['TOR_DOWNLOADER_RTORRENT'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                    <label for="tor_downloader_rtorrent" class="control-label">
                      <input type="checkbox" id="tor_downloader_rtorrent" name="tor_downloader_rtorrent" value="1" ${checked} />
                      Use rTorrent</label>
                  </div>
                  <fieldset id="rtorrent_options">
                    <legend>rTorrent</legend>
                    <div class="row">
                      <div class="form-group col-md-8">
                        <label for="rtorrent_host" class="control-label">rTorrent Host:</label>
                        <input type="text" id="rtorrent_host" name="rtorrent_host" value="${lazylibrarian.CONFIG['RTORRENT_HOST']}" class="form-control" placeholder="rTorrent Host">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="rtorrent_user" class="control-label">rTorrent User:</label>
                        <input type="text" id="rtorrent_user" name="rtorrent_user" value="${lazylibrarian.CONFIG['RTORRENT_USER']}" class="form-control" placeholder="rTorrent User">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="rtorrent_pass" class="control-label">rTorrent Password:</label>
                        <input type="password" id="rtorrent_pass" name="rtorrent_pass" value="${lazylibrarian.CONFIG['RTORRENT_PASS']}" class="form-control" placeholder="rTorrent Password">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="rtorrent_label" class="control-label">rTorrent Label:</label>
                        <input type="text" id="rtorrent_label" name="rtorrent_label" value="${lazylibrarian.CONFIG['RTORRENT_LABEL']}" class="form-control" placeholder="rTorrent Label">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="rtorrent_dir" class="control-label">rTorrent Directory:</label>
                        <input type="text" id="rtorrent_dir" name="rtorrent_dir" value="${lazylibrarian.CONFIG['RTORRENT_DIR']}" class="form-control" placeholder="use rtorrent default">
                      </div>
                      <div>
                        <div class="col-md-6">
                          <button class="button btn btn-sm btn-primary" type="button" value="Test rTorrent" id="testrTorrent"><i class="fa fa-list-ul"></i> Test rTorrent</button>
                          <br>
                          <br>
                        </div>
                      </div>
                    </div>
                  </fieldset>
                  <div class="checkbox">
                    <%
                    if lazylibrarian.CONFIG['TOR_DOWNLOADER_UTORRENT'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                    <label for="tor_downloader_utorrent" class="control-label">
                    <input type="checkbox" id="tor_downloader_utorrent" name="tor_downloader_utorrent" value="1" ${checked} />
                    Use uTorrent</label>
                  </div>
                  <fieldset id="utorrent_options">
                    <legend>uTorrent</legend>
                    <div class="row">
                      <div class="form-group col-md-8">
                        <label for="utorrent_host" class="control-label">uTorrent Host:</label>
                        <input type="text" id="utorrent_host" name="utorrent_host" value="${lazylibrarian.CONFIG['UTORRENT_HOST']}" class="form-control" placeholder="uTorrent Host">
                      </div>
                      <div class="form-group col-md-4">
                        <label for="utorrent_port" class="control-label">uTorrent Port:</label>
                        <input type="number" id="utorrent_port" name="utorrent_port" value="${lazylibrarian.CONFIG['UTORRENT_PORT']}" class="form-control" placeholder="uTorrent Port">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="utorrent_user" class="control-label">Username:</label>
                        <input type="text" id="utorrent_user" name="utorrent_user" value="${lazylibrarian.CONFIG['UTORRENT_USER']}" class="form-control" placeholder="uTorrent Username">
                      </div>
                      <div class="form-group col-md-6">
                        <label>Password:</label>
                        <input type="password" id="utorrent_pass" name="utorrent_pass" value="${lazylibrarian.CONFIG['UTORRENT_PASS']}" class="form-control" placeholder="uTorrent Password">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="utorrent_label" class="control-label">uTorrent Label:</label>
                        <input type="text" id="utorrent_label" name="utorrent_label" value="${lazylibrarian.CONFIG['UTORRENT_LABEL']}" class="form-control" placeholder="uTorrent Label">
                      </div>
                      <div class="form-group col-md-6">
                        <label for="utorrent_base" class="control-label">uTorrent URL Base:</label>
                        <input type="text" id="utorrent_base" name="utorrent_base" value="${lazylibrarian.CONFIG['UTORRENT_BASE']}" class="form-control" placeholder="URL base">
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <button class="button btn btn-sm btn-primary" type="button" value="Test uTorrent" id="testuTorrent"><i class="fa fa-list-ul"></i> Test uTorrent</button>
                        <br>
                        <br>
                      </div>
                    </div>
                  </fieldset>
                  <div class="checkbox">
                    <%
                    if lazylibrarian.CONFIG['TOR_DOWNLOADER_QBITTORRENT'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                    <label for="tor_downloader_qbittorrent" class="control-label">
                    <input type="checkbox" id="tor_downloader_qbittorrent" name="tor_downloader_qbittorrent" value="1" ${checked} />
                    Use qBitTorrent</label>
                  </div>
                    <fieldset id="qbittorrent_options">
                      <legend>qBitTorrent</legend>
                      <div class="row">
                        <div class="form-group col-md-8">
                          <label for="qbittorrent_host" class="control-label">qBitTorrent Host:</label>
                          <input type="text" id="qbittorrent_host" name="qbittorrent_host" value="${lazylibrarian.CONFIG['QBITTORRENT_HOST']}" class="form-control" placeholder="qBitTorrent Host">
                        </div>
                        <div class="form-group col-md-4">
                          <label for="qbittorrent_port" class="control-label">qBitTorrent Port:</label>
                          <input type="number" id="qbittorrent_port" name="qbittorrent_port" value="${lazylibrarian.CONFIG['QBITTORRENT_PORT']}" class="form-control" placeholder="qBitTorrent Port">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="qbittorrent_user" class="control-label">Username:</label>
                          <input type="text" id="qbittorrent_user" name="qbittorrent_user" value="${lazylibrarian.CONFIG['QBITTORRENT_USER']}" class="form-control" placeholder="qBitTorrent Username">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="qbittorrent_pass" class="control-label">Password:</label>
                          <input type="password" id="qbittorrent_pass" name="qbittorrent_pass" value="${lazylibrarian.CONFIG['QBITTORRENT_PASS']}" class="form-control" placeholder="qBitTorrent Password">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="qbittorrent_label" class="control-label">qBitTorrent Label/Category:</label>
                          <input type="text" id="qbittorrent_label" name="qbittorrent_label" value="${lazylibrarian.CONFIG['QBITTORRENT_LABEL']}" class="form-control" placeholder="qBitTorrent Label/Category">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="qbittorrent_base" class="control-label">qBitTorrent URL Base:</label>
                          <input type="text" id="qbittorrent_base" name="qbittorrent_base" value="${lazylibrarian.CONFIG['QBITTORRENT_BASE']}" class="form-control" placeholder="URL base">
                        </div>
                        <div class="form-group col-md-6">
                          <label for="qbittorrent_dir" class="control-label">Download directory :</label>
                          <input type="text" id="qbittorrent_dir" name="qbittorrent_dir" value="${lazylibrarian.CONFIG['QBITTORRENT_DIR']}" class="form-control" placeholder="use qbittorrent default">
                        </div>
                      </div>
                      <div class="row">
                        <div class="col-md-6">
                          <button class="button btn btn-sm btn-primary" type="button" value="Test qBittorrent" id="testqBittorrent"><i class="fa fa-list-ul"></i> Test qBittorrent</button>
                          <br>
                          <br>
                        </div>
                      </div>
                    </fieldset>
                    <div class="checkbox">
                      <%
                        if lazylibrarian.CONFIG['TOR_DOWNLOADER_BLACKHOLE'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="tor_downloader_blackhole" class="control-label">
                        <input type="checkbox" id="tor_downloader_blackhole" name="tor_downloader_blackhole" value="1" ${checked} />
                        Use Torrent Blackhole</label>
                    </div>
                    <fieldset id="tor_blackhole_options">
                      <legend>Torrent Blackhole</legend>
                      <div class="form-group">
                        <label for="torrent_dir" class="control-label">Torrent Blackhole Directory:</label>
                        <input type="text" id="torrent_dir" name="torrent_dir" value="${lazylibrarian.CONFIG['TORRENT_DIR']}" class="form-control" placeholder="Torrent Blackhole Directory">
                      </div>
                      <div class="checkbox">
                        <%
                          if lazylibrarian.CONFIG['TOR_CONVERT_MAGNET'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="tor_convert_magnet" class="control-label">
                          <input type="checkbox" id="tor_convert_magnet" name="tor_convert_magnet" value="1" ${checked} />
                          Convert magnet links into torrent files</label>
                      </div>
                    </fieldset>
                    <div class="checkbox">
                      <%
                        if lazylibrarian.CONFIG['PREFER_MAGNET'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="prefer_magnet" class="control-label">
                        <input type="checkbox" id="prefer_magnet" name="prefer_magnet" value="1" ${checked} />
                        Prefer magnet links to torrent files</label>
                    </div>
                    <div class="checkbox">
                      <%
                        if lazylibrarian.CONFIG['KEEP_SEEDING'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="keep_seeding" class="control-label">
                        <input type="checkbox" id="keep_seeding" name="keep_seeding" value="1" ${checked} />
                        Keep seeding after processing</label>
                    </div>
                    <div class="checkbox">
                      <%
                        if lazylibrarian.CONFIG['SEED_WAIT'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="seed_wait" class="control-label">
                      <input type="checkbox" id="seed_wait" name="seed_wait" value="1" ${checked} />
                      Do not delete if still seeding</label>
                    </div>
                    <div class="checkbox">
                      <%
                        if lazylibrarian.CONFIG['DEL_COMPLETED'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="del_completed" class="control-label">
                      <input type="checkbox" id="del_completed" name="del_completed" value="1" ${checked} />
                      Delete completed tasks from downloader</label>
                    </div>
                    <div class="checkbox">
                      <%
                        if lazylibrarian.CONFIG['DEL_FAILED'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="del_failed" class="control-label">
                      <input type="checkbox" id="del_failed" name="del_failed" value="1" ${checked} />
                      Delete failed tasks from downloader</label>
                    </div>
                  </fieldset>
                </fieldset>
              </div>
            </div>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="providers">
          <div class="configtable">
            <div class="row">
              <div class="usenet_providers">
                <fieldset>
                  <div class="col-md-12">
                  <legend>Newznab Providers</legend>
                  </div>
                  %for provider in lazylibrarian.NEWZNAB_PROV:
                  <%
                      checked = ''
                      if provider['ENABLED'] == True:
                          checked = 'checked="checked"'
                    %>
                  <div class="col-md-4 form-group">
                    <div class="input-group">
                      <span class="input-group-addon">Name</span>
                      <label for="newznab_${loop.index}_dispname" class="sr-only">Newznab Name</label>
                      <input type="text" id="newznab_${loop.index}_dispname" name="newznab_${loop.index}_dispname" value="${provider['DISPNAME']}" class="form-control" placeholder="display name">
                      <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                      &nbsp;<input type="checkbox" id="newznab_${loop.index}_enabled" name="newznab_${loop.index}_enabled" value="1" ${checked} />&nbsp;
                      </span>
                    </div>
                    <div class="input-group">
                    <span class="input-group-addon"></span>
                      <label for="newznab_${loop.index}_host" class="sr-only">Newznab URL</label>
                      <input type="text" placeholder="Newznab URL #${loop.index}" id="newznab_${loop.index}_host" name="newznab_${loop.index}_host" value="${provider['HOST']}" class="form-control">
                      <span class="input-group-addon"></span>
                    </div>
                    <div class="input-group">
                    <span class="input-group-addon"></span>
                    <label for="newznab_${loop.index}_api" class="sr-only">Newznab API Key</label>
                    <input type="text" placeholder="Newznab API #${loop.index}" id="newznab_${loop.index}_api" name="newznab_${loop.index}_api" value="${provider['API']}" class="form-control">
                    <span class="input-group-addon"></span>
                      </div>
                    <div class="input-group">
                      <span class="input-group-addon">Priority</span>
                      <input type="number" id="newznab_${loop.index}_dlpriority" name="newznab_${loop.index}_dlpriority" value="${provider['DLPRIORITY']}" class="form-control" placeholder="0">
                      <span class="input-group-addon">Types</span>
                      <input type="text" id="newznab_${loop.index}_dltypes" name="newznab_${loop.index}_dltypes" value="${provider['DLTYPES']}" class="form-control" placeholder="">
                      <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="newznab_${loop.index}"> Test</button>
                      </span>
                    </div>
                  </div>
                  %endfor
                </fieldset>
              </div>
              <div class="torznab_providers">
                <fieldset>
                  <div class="col-md-12">
                  <legend>Torznab Providers</legend>
                  </div>
                  %for provider in lazylibrarian.TORZNAB_PROV:
                  <%
                      checked = ''
                      if provider['ENABLED'] == True:
                        checked = 'checked="checked"'
                    %>
                  <div class="col-md-4 form-group">
                    <div class="input-group">
                      <span class="input-group-addon">Name</span>
                      <label for="torznab_${loop.index}_host" class="sr-only">Torznab Name</label>
                      <input type="text" id="torznab_${loop.index}_dispname" name="torznab_${loop.index}_dispname" value="${provider['DISPNAME']}" class="form-control" placeholder="display name">
                      <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                        &nbsp;<input type="checkbox" id="torznab_${loop.index}_enabled" name="torznab_${loop.index}_enabled" value="1" ${checked} />&nbsp;
                        </span>
                    </div>
                    <div class="input-group">
                      <span class="input-group-addon"></span>
                      <label for="torznab_${loop.index}_host" class="sr-only">Torznab URL</label>
                      <input type="text" placeholder="Torznab URL #${loop.index}" id="torznab_${loop.index}_host" name="torznab_${loop.index}_host" value="${provider['HOST']}" class="form-control">
                      <span class="input-group-addon"></span>
                    </div>
                    <div class="input-group">
                    <span class="input-group-addon"></span>
                    <label for="torznab_${loop.index}_api" class="sr-only">Torznab API Key</label>
                    <input type="text" placeholder="Torznab API #${loop.index}" id="torznab_${loop.index}_api" name="torznab_${loop.index}_api" value="${provider['API']}" class="form-control">
                    <span class="input-group-addon"></span>
                    </div>
                    <div class="input-group">
                      <span class="input-group-addon">Priority</span>
                      <input type="number" id="torznab_${loop.index}_dlpriority" name="torznab_${loop.index}_dlpriority" value="${provider['DLPRIORITY']}" class="form-control" placeholder="0">
                      <span class="input-group-addon">Seeders</span>
                      <input type="number" id="torznab_${loop.index}_seeders" name="torznab_${loop.index}_seeders" value="${provider['SEEDERS']}" class="form-control" placeholder="0">
                      <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="torznab_${loop.index}"> Test</button>
                      </span>
                    </div>
                    <div class="input-group">
                      <span class="input-group-addon">Types</span>
                      <input type="text" id="torznab_${loop.index}_dltypes" name="torznab_${loop.index}_dltypes" value="${provider['DLTYPES']}" class="form-control" placeholder="">
                    </div>
                  </div>
                  %endfor
                </fieldset>
              </div>
              <div class="rss_providers">
                <fieldset>
                  <div class="col-md-12">
                  <legend>RSS/Wishlist Providers</legend>
                  </div>
                  %for provider in lazylibrarian.RSS_PROV:
                  <%
                   checked = ''
                   if provider['ENABLED'] == True:
                       checked = 'checked="checked"'
                  %>
                  <div class="col-md-4 form-group">
                    <div class="input-group">
                      <span class="input-group-addon">Name</span>
                      <label for="rss_${loop.index}_host" class="sr-only">RSS Name</label>
                      <input type="text" id="rss_${loop.index}_dispname" name="rss_${loop.index}_dispname" value="${provider['DISPNAME']}" class="form-control" placeholder="display name">
                      <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                        &nbsp;<input type="checkbox" id="rss_${loop.index}_enabled" name="rss_${loop.index}_enabled" value="1" ${checked} />&nbsp;
                      </span>
                    </div>
                    <div class="input-group">
                      <span class="input-group-addon"></span>
                      <label for="rss_${loop.index}_host" class="sr-only">RSS URL</label>
                      <input type="text" placeholder="RSS URL #${loop.index}" id="rss_${loop.index}_host" name="rss_${loop.index}_host" value="${provider['HOST']}" class="form-control" />
                      <span class="input-group-addon"></span>
                    </div>
                      <%
                        label = 'Priority'
                        if 'list_rss' in provider['HOST']:
                          label = 'Pages'
                        if '/book/' in provider['HOST']:
                          label = 'Pages'
                        if '/show/' in provider['HOST']:
                          label = 'Pages'
                      %>
                    <div class="input-group">
                      <span class="input-group-addon">${label}</span>
                      <input type="number" id="rss_${loop.index}_dlpriority" name="rss_${loop.index}_dlpriority" value="${provider['DLPRIORITY']}" class="form-control" placeholder="0">
                      <span class="input-group-addon">Types</span>
                      <input type="text" id="rss_${loop.index}_dltypes" name="rss_${loop.index}_dltypes" value="${provider['DLTYPES']}" class="form-control" placeholder="">
                      <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="rss_${loop.index}"> Test</button>
                      </span>
                    </div>
                  </div>
                  %endfor
                </fieldset>
                <div class="torrent_providers">
                  <fieldset>
                    <div class="col-md-12">
                    <legend>Torrent Providers</legend>
                    </div>
                    <%
                      if lazylibrarian.CONFIG['KAT'] == True:
                        checked = 'checked="checked"'
                      else:
                        checked = ''
                    %>
                    <div class="col-md-4 form-group">
                      <label for="kat_host" class="sr-only">KAT Host</label>
                      <div class="input-group">
                        <input type="text" placeholder="KAT Host" id="kat_host" name="kat_host" value="${lazylibrarian.CONFIG['KAT_HOST']}" class="form-control">
                        <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                        <input type="checkbox" id="kat" name="kat" value="1" ${checked} />
                        </span>
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Priority</span>
                        <input type="number" id="kat_dlpriority" name="kat_dlpriority" value="${lazylibrarian.CONFIG['KAT_DLPRIORITY']}" class="form-control" placeholder="0">
                        <span class="input-group-addon">Seeders</span>
                        <input type="number" id="kat_seeders" name="kat_seeders" value="${lazylibrarian.CONFIG['KAT_SEEDERS']}" class="form-control" placeholder="0">
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Types</span>
                        <input type="text" id="kat_dltypes" name="kat_dltypes" value="${lazylibrarian.CONFIG['KAT_DLTYPES']}" class="form-control" placeholder="">
                        <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="KAT"> Test</button>
                        </span>
                      </div>
                    </div>
                    <%
                      if lazylibrarian.CONFIG['TPB'] == True:
                        checked = 'checked="checked"'
                      else:
                        checked = ''
                    %>
                    <div class="col-md-4 form-group">
                      <label for="tpb_host" class="sr-only">TPB Host</label>
                      <div class="input-group">
                        <input type="text" placeholder="TPB Host" id="tpb_host" name="tpb_host" value="${lazylibrarian.CONFIG['TPB_HOST']}" class="form-control">
                        <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                          <input type="checkbox" id="tpb" name="tpb" value="1" ${checked} />
                        </span>
                      </div>
                      <div class="input-group">
                      <span class="input-group-addon">Priority</span>
                        <input type="number" id="tpb_dlpriority" name="tpb_dlpriority" value="${lazylibrarian.CONFIG['TPB_DLPRIORITY']}" class="form-control" placeholder="0">
                        <span class="input-group-addon">Seeders</span>
                        <input type="number" id="tpb_seeders" name="tpb_seeders" value="${lazylibrarian.CONFIG['TPB_SEEDERS']}" class="form-control" placeholder="0">
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Types</span>
                        <input type="text" id="tpb_dltypes" name="tpb_dltypes" value="${lazylibrarian.CONFIG['TPB_DLTYPES']}" class="form-control" placeholder="">
                        <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="TPB"> Test</button>
                        </span>
                      </div>
                    </div>
                   <%
                      if lazylibrarian.CONFIG['WWT'] == True:
                        checked = 'checked="checked"'
                      else:
                        checked = ''
                    %>
                    <div class="col-md-4 form-group">
                      <label for="wwt_host" class="sr-only">WWT Host</label>
                      <div class="input-group">
                        <input type="text" placeholder="WWT Host" id="wwt_host" name="wwt_host" value="${lazylibrarian.CONFIG['WWT_HOST']}" class="form-control">
                        <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                          <input type="checkbox" id="wwt" name="wwt" value="1" ${checked} />
                        </span>
                      </div>
                      <div class="input-group">
                      <span class="input-group-addon">Priority</span>
                        <input type="number" id="wwt_dlpriority" name="wwt_dlpriority" value="${lazylibrarian.CONFIG['WWT_DLPRIORITY']}" class="form-control" placeholder="0">
                        <span class="input-group-addon">Seeders</span>
                        <input type="number" id="wwt_seeders" name="wwt_seeders" value="${lazylibrarian.CONFIG['WWT_SEEDERS']}" class="form-control" placeholder="0">
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Types</span>
                        <input type="text" id="wwt_dltypes" name="wwt_dltypes" value="${lazylibrarian.CONFIG['WWT_DLTYPES']}" class="form-control" placeholder="">
                        <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="WWT"> Test</button>
                        </span>
                      </div>
                    </div>
                    <%
                      if lazylibrarian.CONFIG['ZOO'] == True:
                        checked = 'checked="checked"'
                      else:
                        checked = ''
                    %>
                    <div class="col-md-4 form-group">
                      <label for="zoo_host" class="sr-only">zooqle host</label>
                      <div class="input-group">
                        <input type="text" placeholder="zooqle host" id="zoo_host" name="zoo_host" value="${lazylibrarian.CONFIG['ZOO_HOST']}" class="form-control">
                        <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                        <input type="checkbox" id="zoo" name="zoo" value="1" ${checked} />
                        </span>
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Priority</span>
                        <input type="number" id="zoo_dlpriority" name="zoo_dlpriority" value="${lazylibrarian.CONFIG['ZOO_DLPRIORITY']}" class="form-control" placeholder="0">
                        <span class="input-group-addon">Seeders</span>
                        <input type="number" id="zoo_seeders" name="zoo_seeders" value="${lazylibrarian.CONFIG['ZOO_SEEDERS']}" class="form-control" placeholder="0">
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Types</span>
                        <input type="text" id="zoo_dltypes" name="zoo_dltypes" value="${lazylibrarian.CONFIG['ZOO_DLTYPES']}" class="form-control" placeholder="">
                        <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="ZOO"> Test</button>
                        </span>
                      </div>
                    </div>
                    <%
                      if lazylibrarian.CONFIG['TDL'] == True:
                        checked = 'checked="checked"'
                      else:
                        checked = ''
                    %>
                    <div class="col-md-4 form-group">
                      <label for="tdl_host" class="sr-only">torrentdownload host</label>
                      <div class="input-group">
                        <input type="text" placeholder="torrentdownload host" id="tdl_host" name="tdl_host" value="${lazylibrarian.CONFIG['TDL_HOST']}" class="form-control">
                        <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                        <input type="checkbox" id="tdl" name="tdl" value="1" ${checked} />
                        </span>
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Priority</span>
                        <input type="number" id="tdl_dlpriority" name="tdl_dlpriority" value="${lazylibrarian.CONFIG['TDL_DLPRIORITY']}" class="form-control" placeholder="0">
                        <span class="input-group-addon">Seeders</span>
                        <input type="number" id="tdl_seeders" name="tdl_seeders" value="${lazylibrarian.CONFIG['TDL_SEEDERS']}" class="form-control" placeholder="0">
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Types</span>
                        <input type="text" id="tdl_dltypes" name="tdl_dltypes" value="${lazylibrarian.CONFIG['TDL_DLTYPES']}" class="form-control" placeholder="">
                        <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="TDL"> Test</button>
                        </span>
                      </div>
                    </div>
                     <%
                      if lazylibrarian.CONFIG['TRF'] == True:
                        checked = 'checked="checked"'
                      else:
                        checked = ''
                    %>
                    <div class="col-md-4 form-group">
                      <label for="trf_host" class="sr-only">torrof host</label>
                      <div class="input-group">
                        <input type="text" placeholder="torrof host" id="trf_host" name="trf_host" value="${lazylibrarian.CONFIG['TRF_HOST']}" class="form-control">
                        <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                        <input type="checkbox" id="trf" name="trf" value="1" ${checked} />
                        </span>
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Priority</span>
                        <input type="number" id="trf_dlpriority" name="trf_dlpriority" value="${lazylibrarian.CONFIG['TRF_DLPRIORITY']}" class="form-control" placeholder="0">
                        <span class="input-group-addon">Seeders</span>
                        <input type="number" id="trf_seeders" name="trf_seeders" value="${lazylibrarian.CONFIG['TRF_SEEDERS']}" class="form-control" placeholder="0">
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Types</span>
                        <input type="text" id="trf_dltypes" name="trf_dltypes" value="${lazylibrarian.CONFIG['TRF_DLTYPES']}" class="form-control" placeholder="">
                        <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="TRF"> Test</button>
                        </span>
                      </div>
                    </div>
                    <%
                      if lazylibrarian.CONFIG['LIME'] == True:
                        checked = 'checked="checked"'
                      else:
                        checked = ''
                    %>
                    <div class="col-md-4 form-group">
                      <label for="lime_host" class="sr-only">limetorrent host</label>
                      <div class="input-group">
                        <input type="text" placeholder="limetorrent host" id="lime_host" name="lime_host" value="${lazylibrarian.CONFIG['LIME_HOST']}" class="form-control">
                        <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                        <input type="checkbox" id="lime" name="lime" value="1" ${checked} />
                        </span>
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Priority</span>
                        <input type="number" id="lime_dlpriority" name="lime_dlpriority" value="${lazylibrarian.CONFIG['LIME_DLPRIORITY']}" class="form-control" placeholder="0">
                        <span class="input-group-addon">Seeders</span>
                        <input type="number" id="lime_seeders" name="lime_seeders" value="${lazylibrarian.CONFIG['LIME_SEEDERS']}" class="form-control" placeholder="0">
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Types</span>
                        <input type="text" id="lime_dltypes" name="lime_dltypes" value="${lazylibrarian.CONFIG['LIME_DLTYPES']}" class="form-control" placeholder="">
                        <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="LIME"> Test</button>
                        </span>
                      </div>
                    </div>
                </fieldset>
              </div>
              <div class="irc_providers">
                <fieldset>
                  <div class="col-md-12">
                  <legend>IRC Providers</legend>
                  </div>
                  %for provider in lazylibrarian.IRC_PROV:
                  <%
                   checked = ''
                   if provider['ENABLED'] == True:
                       checked = 'checked="checked"'
                  %>
                  <div class="col-md-4 form-group">
                    <div class="input-group">
                      <span id="log_type" class="input-group-addon">Name</span>
                      <label for="irc_${loop.index}_dispname" class="sr-only">IRC Name</label>
                      <input type="text" id="irc_${loop.index}_dispname" name="irc_${loop.index}_dispname" value="${provider['DISPNAME']}" class="form-control" placeholder="display name">
                      <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                        &nbsp;<input type="checkbox" id="irc_${loop.index}_enabled" name="irc_${loop.index}_enabled" value="1" ${checked} />&nbsp;
                      </span>
                    </div>
                    <div class="input-group">
                      <span id="log_type" class="input-group-addon">Server</span>
                      <label for="irc_${loop.index}_server" class="sr-only">Server</label>
                      <input type="text" placeholder="IRC Server #${loop.index}" id="irc_${loop.index}_server" name="irc_${loop.index}_server" value="${provider['SERVER']}" class="form-control" />
                      <span class="input-group-addon"></span>
                    </div>
                    <div class="input-group">
                      <span id="log_type" class="input-group-addon">Channel</span>
                      <label for="irc_${loop.index}_channel" class="sr-only">Channel</label>
                      <input type="text" placeholder="IRC Channel #${loop.index}" id="irc_${loop.index}_channel" name="irc_${loop.index}_channel" value="${provider['CHANNEL']}" class="form-control">
                      <span class="input-group-addon"></span>
                    </div>
                    <div class="input-group">
                      <span id="log_type" class="input-group-addon">BotNick</span>
                      <label for="irc_${loop.index}_botnick" class="sr-only">BotNick</label>
                      <input type="text" placeholder="IRC BotNick #${loop.index}" id="irc_${loop.index}_botnick" name="irc_${loop.index}_botnick" value="${provider['BOTNICK']}" class="form-control">
                      <span class="input-group-addon"></span>
                    </div>
                    <div class="input-group">
                      <span id="log_type" class="input-group-addon">BotPass</span>
                      <label for="irc_${loop.index}_botpass" class="sr-only">BotPass</label>
                      <input type="password" placeholder="IRC BotPass #${loop.index}" id="irc_${loop.index}_botpass" name="irc_${loop.index}_botpass" value="${provider['BOTPASS']}" class="form-control">
                      <span class="input-group-addon"></span>
                    </div>
                    <div class="input-group">
                      <span class="input-group-addon">Priority</span>
                      <input type="number" id="irc_${loop.index}_dlpriority" name="irc_${loop.index}_dlpriority" value="${provider['DLPRIORITY']}" class="form-control" placeholder="0">
                      <span class="input-group-addon">Types</span>
                      <input type="text" id="irc_${loop.index}_dltypes" name="irc_${loop.index}_dltypes" value="${provider['DLTYPES']}" class="form-control" placeholder="">
                      <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="irc_${loop.index}"> Test</button>
                      </span>
                    </div>
                  </div>
                  %endfor
                </fieldset>
              </div>
              <div class="direct_providers">
                  <fieldset>
                    <div class="col-md-12">
                    <legend>Direct Download Providers</legend>
                    </div>
                    <%
                      if lazylibrarian.CONFIG['BOK'] == True:
                        checked = 'checked="checked"'
                      else:
                        checked = ''
                    %>
                    <div class="col-md-4 form-group">
                      <label for="bok_host" class="sr-only">zlibrary host</label>
                      <div class="input-group">
                        <span class="input-group-addon">ZLibrary</span>
                        <input type="text" placeholder="zlibrary host" id="bok_host" name="bok_host" value="${lazylibrarian.CONFIG['BOK_HOST']}" class="form-control">
                        <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                        <input type="checkbox" id="bok" name="bok" value="1" ${checked} />
                        </span>
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Priority</span>
                        <input type="number" id="bok_dlpriority" name="bok_dlpriority" value="${lazylibrarian.CONFIG['BOK_DLPRIORITY']}" class="form-control" placeholder="0">
                        <span class="input-group-addon">Types</span>
                        <input type="text" id="bok_dltypes" name="bok_dltypes" value="${lazylibrarian.CONFIG['BOK_DLTYPES']}" class="form-control" placeholder="">
                        <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="BOK"> Test</button>
                        </span>
                      </div>
                      <div class="input-group">
                      <span class="input-group-addon">Daily Downloads: (used ${lazylibrarian.BOK_DLCOUNT})</span>
                      <input type="number" placeholder="API Limit" id="bok_dllimit" name="bok_dllimit" value="${lazylibrarian.CONFIG['BOK_DLLIMIT']}" class="form-control">
                      </div>
                    </div>
                    <%
                      if lazylibrarian.CONFIG['BFI'] == True:
                        checked = 'checked="checked"'
                      else:
                        checked = ''
                    %>
                    <div class="col-md-4 form-group">
                      <label for="bok_host" class="sr-only">bookfi host</label>
                      <div class="input-group">
                        <span class="input-group-addon">BookFi</span>
                        <input type="text" placeholder="bookfi host" id="bfi_host" name="bfi_host" value="${lazylibrarian.CONFIG['BFI_HOST']}" class="form-control">
                        <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                        <input type="checkbox" id="bfi" name="bfi" value="1" ${checked} />
                        </span>
                      </div>
                      <div class="input-group">
                        <span class="input-group-addon">Priority</span>
                        <input type="number" id="bfi_dlpriority" name="bfi_dlpriority" value="${lazylibrarian.CONFIG['BFI_DLPRIORITY']}" class="form-control" placeholder="0">
                        <span class="input-group-addon">Types</span>
                        <input type="text" id="bfi_dltypes" name="bfi_dltypes" value="${lazylibrarian.CONFIG['BFI_DLTYPES']}" class="form-control" placeholder="">
                        <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="BFI"> Test</button>
                        </span>
                      </div>
                    </div>
                  %for provider in lazylibrarian.GEN_PROV:
                  <%
                   checked = ''
                   if provider['ENABLED'] == True:
                       checked = 'checked="checked"'
                  %>
                  <div class="col-md-4 form-group">
                    <div class="input-group">
                      <span id="log_type" class="input-group-addon">LibGen</span>
                      <label for="gen_${loop.index}_dispname" class="sr-only">Name</label>
                      <input type="text" id="gen_${loop.index}_dispname" name="gen_${loop.index}_dispname" value="${provider['DISPNAME']}" class="form-control" placeholder="name">
                      <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="Enable provider">
                        &nbsp;<input type="checkbox" id="gen_${loop.index}_enabled" name="gen_${loop.index}_enabled" value="1" ${checked} />&nbsp;
                      </span>
                    </div>
                    <div class="input-group">
                      <span id="log_type" class="input-group-addon">Server</span>
                      <label for="gen_${loop.index}_host" class="sr-only">Server</label>
                      <input type="text" placeholder="GEN server #${loop.index}" id="gen_${loop.index}_host" name="gen_${loop.index}_host" value="${provider['HOST']}" class="form-control" />
                      <span class="input-group-addon"></span>
                    </div>
                    <div class="input-group">
                      <span id="log_type" class="input-group-addon">Search</span>
                      <label for="gen_${loop.index}_search" class="sr-only">Search</label>
                      <input type="text" placeholder="GEN Search #${loop.index}" id="gen_${loop.index}_search" name="gen_${loop.index}_search" value="${provider['SEARCH']}" class="form-control">
                      <span class="input-group-addon"></span>
                    </div>
                    <div class="input-group">
                      <span class="input-group-addon">Priority</span>
                      <input type="number" id="gen_${loop.index}_dlpriority" name="gen_${loop.index}_dlpriority" value="${provider['DLPRIORITY']}" class="form-control" placeholder="0">
                      <span class="input-group-addon">Types</span>
                      <input type="text" id="gen_${loop.index}_dltypes" name="gen_${loop.index}_dltypes" value="${provider['DLTYPES']}" class="form-control" placeholder="">
                      <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="gen_${loop.index}"> Test</button>
                      </span>
                    </div>
                  </div>
                  %endfor
                  </fieldset>
                </div>
              </div>
            </div>
            <button class="button btn btn-sm btn-warning btn-primary" type="button" value="showblocked" id="showblocked"> Blocked Providers</button>
            <br>
            <br>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="searchprocessing">
          <div class="configtable">
            <div class="row">
              <div class="col-md-4">
                <fieldset>
                  <legend>Intervals</legend>
                  <div class="form-group">
                    <label for="search_bookinterval" class="control-label">Book Search Interval:</label>
                    <div class="input-group">
                      <input type="number" id="search_bookinterval" name="search_bookinterval" value="${lazylibrarian.CONFIG['SEARCH_BOOKINTERVAL']}" class="form-control" placeholder="0 to disable">
                      <span class="input-group-addon">Minutes</span>
                    </div>
                  </div>
                  %if lazylibrarian.CONFIG['MAG_TAB'] == True:
                  <div class="form-group">
                    <label for="search_maginterval" class="control-label">Magazine Search Interval:</label>
                    <div class="input-group">
                      <input type="number" id="search_maginterval" name="search_maginterval" value="${lazylibrarian.CONFIG['SEARCH_MAGINTERVAL']}" class="form-control" placeholder="0 to disable">
                      <span class="input-group-addon">Minutes</span>
                    </div>
                  </div>
                  %endif
                  %if lazylibrarian.CONFIG['COMIC_TAB'] == True:
                  <div class="form-group">
                    <label for="search_comicinterval" class="control-label">Comic Search Interval:</label>
                    <div class="input-group">
                      <input type="number" id="search_comicinterval" name="search_comicinterval" value="${lazylibrarian.CONFIG['SEARCH_COMICINTERVAL']}" class="form-control" placeholder="0 to disable">
                      <span class="input-group-addon">Hours</span>
                    </div>
                  </div>
                  %endif
                  <div class="form-group">
                    <label for="searchrss_interval" class="control-label">RSS Search Interval:</label>
                    <div class="input-group">
                      <input type="number" id="searchrss_interval" name="searchrss_interval" value="${lazylibrarian.CONFIG['SEARCHRSS_INTERVAL']}" class="form-control" placeholder="0 to disable">
                      <span class="input-group-addon">Minutes</span>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="wishlist_interval" class="control-label">Wishlist Search Interval:</label>
                    <div class="input-group">
                      <input type="number" id="wishlist_interval" name="wishlist_interval" value="${lazylibrarian.CONFIG['WISHLIST_INTERVAL']}" class="form-control" placeholder="0 to disable">
                      <span class="input-group-addon">Hours</span>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label">Post-Processing Interval:</label>
                    <div class="input-group">
                      <input type="number" id="scan_interval" name="scan_interval" value="${lazylibrarian.CONFIG['SCAN_INTERVAL']}" class="form-control" placeholder="0 to disable">
                      <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="How often to check for new downloads">Minutes</span>
                    </div>
                  </div>
                  <div class="form-group">
                    <label class="control-label">Post-Processing Delay:</label>
                    <div class="input-group">
                      <input type="number" id="pp_delay" name="pp_delay" value="${lazylibrarian.CONFIG['PP_DELAY']}" class="form-control" placeholder="0 to disable">
                      <span class="input-group-addon" data-toggle="tooltip" data-placement="bottom" title="How long to wait after download is complete before processing">Seconds</span>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="versioncheck_interval" class="control-label">Version Check Interval:</label>
                    <div class="input-group">
                      <input type="number" id="versioncheck_interval" name="versioncheck_interval" value="${lazylibrarian.CONFIG['VERSIONCHECK_INTERVAL']}" class="form-control" placeholder="0 to disable" >
                      <span class="input-group-addon">Hours</span>
                    </div>
                    <%
                        if lazylibrarian.CONFIG['AUTO_UPDATE'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="auto_update" class="control-label">
                      <input type="checkbox" id="auto_update" name="auto_update" value="1" ${checked} />
                      Auto Update when new version found</label>
                    <span class="help-block">This will auto update if the task finds a new version. Does not apply to manual version checks</span>
                  </div>
                  <div class="help-block">Setting a scan interval to zero disables the task</div>
                </fieldset>
                <legend>Status</legend>
                  <div class="form-group">
                    <label for="notfound_status">Missing Book Status:</label>
                    <select id="notfound_status" name="notfound_status" class="form-control">
                      %for nf_status in config['status_list']:
                      <%
                            selected = ''
                            if nf_status == lazylibrarian.CONFIG['NOTFOUND_STATUS']:
                                    selected = 'selected="selected"'
                        %>
                      <option value="${nf_status}" ${selected}>${nf_status}</option>
                      %endfor
                    </select>
                    <span class="help-block">Status for missing/deleted ebooks</span>
                  </div>
                  %if lazylibrarian.CONFIG['EBOOK_TAB'] == True:
                  <div class="form-group">
                    <label for="newbook_status">New Book Status:</label>
                    <select id="newbook_status" name="newbook_status" class="form-control">
                      %for nb_status in config['status_list']:
                      <%
                            selected = ''
                            if nb_status == lazylibrarian.CONFIG['NEWBOOK_STATUS']:
                                    selected = 'selected="selected"'
                        %>
                      <option value="${nb_status}" ${selected}>${nb_status}</option>
                      %endfor
                    </select>
                    <span class="help-block">Status for new ebooks by existing authors</span>
                  </div>
                  %endif
                  %if lazylibrarian.CONFIG['AUDIO_TAB'] == True:
                  <div class="form-group">
                    <label for="newaudio_status">New AudioBook Status:</label>
                    <select id="newaudio_status" name="newaudio_status" class="form-control">
                      %for nb_status in config['status_list']:
                      <%
                            selected = ''
                            if nb_status == lazylibrarian.CONFIG['NEWAUDIO_STATUS']:
                                selected = 'selected="selected"'
                        %>
                      <option value="${nb_status}" ${selected}>${nb_status}</option>
                      %endfor
                    </select>
                    <span class="help-block">Status for new audiobooks by existing authors</span>
                  </div>
                  %endif
                  %if lazylibrarian.CONFIG['EBOOK_TAB'] == True:
                  <div class="form-group">
                    <label for="newauthor_status">New Authors eBook Status:</label>
                    <select id="newauthor_status" name="newauthor_status" class="form-control">
                      %for na_status in config['status_list']:
                      <%
                        selected = ''
                        if na_status == lazylibrarian.CONFIG['NEWAUTHOR_STATUS']:
                            selected = 'selected="selected"'
                      %>
                      <option value="${na_status}" ${selected}>${na_status}</option>
                      %endfor
                    </select>
                    <span class="help-block">Status for ebooks by new authors</span>
                  </div>
                  %endif
                  %if lazylibrarian.CONFIG['AUDIO_TAB'] == True:
                  <div class="form-group">
                    <label for="newauthor_audio">New Authors AudioBook Status:</label>
                    <select id="newauthor_audio" name="newauthor_audio" class="form-control">
                      %for na_status in config['status_list']:
                      <%
                        selected = ''
                        if na_status == lazylibrarian.CONFIG['NEWAUTHOR_AUDIO']:
                            selected = 'selected="selected"'
                      %>
                      <option value="${na_status}" ${selected}>${na_status}</option>
                      %endfor
                    </select>
                    <span class="help-block">Status for audiobooks by new authors</span>
                  </div>
                  %endif
                  <div class="form-group">
                    <label for="found_status">New Found Status:</label>
                    <select id="found_status" name="found_status" class="form-control">
                      %for na_status in ['Open', 'Have']:
                      <%
                        selected = ''
                        if na_status == lazylibrarian.CONFIG['FOUND_STATUS']:
                            selected = 'selected="selected"'
                      %>
                      <option value="${na_status}" ${selected}>${na_status}</option>
                      %endfor
                    </select>
                    <span class="help-block">Status for new downloads and items found on scan</span>
                  </div>
                  <div class="form-group">
                    <label for="newseries_status">New Series Status:</label>
                    <select id="newseries_status" name="newseries_status" class="form-control">
                      %for na_status in ['Active', 'Paused', 'Wanted']:
                      <%
                        selected = ''
                        if na_status == lazylibrarian.CONFIG['NEWSERIES_STATUS']:
                            selected = 'selected="selected"'
                      %>
                      <option value="${na_status}" ${selected}>${na_status}</option>
                      %endfor
                    </select>
                    <span class="help-block">Should we monitor/download new books in the series</span>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['NEWAUTHOR_BOOKS'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="newauthor_books" class="control-label">
                      <input type="checkbox" id="newauthor_books" name="newauthor_books" value="1" ${checked} />
                      Include other books by new authors</label>
                    <span class="help-block">This will include details for other books by new authors found in wishlists or csv files,<br>
                      or when manually importing a book by a new author</span>
                  </div>
                  <fieldset>
                  <legend>External Programs</legend>
                  <div class="form-group">
                    <label for="ext_preprocess">Additional PreProcessor program:</label>
                    <input type="text" id="ext_preprocess" name="ext_preprocess" value="${lazylibrarian.CONFIG['EXT_PREPROCESS']}" class="form-control">
                    <span class="help-block">Path to additional preprocessor to run before importing books into the library</span>
                    <input type="button" value="Test preprocessor" id="testpreprocessor" class="btn btn-default" />
                  </div>
                  <div class="form-group">
                    <label for="ebook_convert">ebook-convert program:</label>
                    <input type="text" id="ebook_convert" name="ebook_convert" value="${lazylibrarian.CONFIG['EBOOK_CONVERT']}" class="form-control" placeholder="ebook-convert program">
                    <span class="help-block">Path to "ebook-convert" to convert book formats</span>
                    <input type="button" value="Test ebook-convert" id="testebookconvert" class="btn btn-default" />
                  </div>
                  <div class="form-group">
                    <label for="ffmpeg">ffmpeg program:</label>
                    <input type="text" id="ffmpeg" name="ffmpeg" value="${lazylibrarian.CONFIG['FFMPEG']}" class="form-control" placeholder="ffmpeg program">
                    <span class="help-block">Path to "ffmpeg" to merge audiobook parts or add tags</span>
                  </div>
                  <div class="form-group">
                    <label for="ffmpeg">ffmpeg output extension:</label>
                    <input type="text" id="ffmpeg_out" name="ffmpeg_out" value="${lazylibrarian.CONFIG['FFMPEG_OUT']}" class="form-control" placeholder="leave blank to use input extension">
                    <span class="help-block">If you need to force a particular output type</span>
                    <input type="button" value="Test ffmpeg" id="testffmpeg" class="btn btn-default" />
                  </div>
                  <div class="form-group">
                    <label for="git_program">git program:</label>
                    <input type="text" placeholder="git program" id="git_program" name="git_program" value="${lazylibrarian.CONFIG['GIT_PROGRAM']}" class="form-control">
                    <span class="help-block">Git program unless already in your path. Usually leave this blank</span>
                  </div>
                  </fieldset>
                  <legend>Calibre</legend>
                  <fieldset>
                  <div class="form-group">
                    <label for="imp_calibredb">Calibredb import program:</label>
                    <input type="text" id="imp_calibredb" name="imp_calibredb" value="${lazylibrarian.CONFIG['IMP_CALIBREDB']}" class="form-control" placeholder="calibredb program">
                    <span class="help-block">Path to "calibredb" to import books into a calibre library</span>
                    <input type="button" value="Test calibredb" id="testCalibredb" class="btn btn-default" />
                  </div>
                  <div class="checkbox">
                      <%
                        if lazylibrarian.CONFIG['CALIBRE_USE_SERVER'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="calibre_use_server" class="control-label">
                        <input type="checkbox" id="calibre_use_server" name="calibre_use_server" value="1" ${checked} />
                        Use Calibre Content Server</label>
                  </div>
                  </fieldset>
                  <fieldset id="calibre_options">
                  <div class="form-group">
                    <label for="calibre_server">Calibre Server:</label>
                    <input type="text" id="calibre_server" name="calibre_server" value="${lazylibrarian.CONFIG['CALIBRE_SERVER']}" class="form-control">
                    <span class="help-block">eg http://my_calibre_server:9000</span>
                  </div>
                  <div class="form-group">
                    <label for="calibre_user">Calibre Username:</label>
                    <input type="text" id="calibre_user" name="calibre_user" value="${lazylibrarian.CONFIG['CALIBRE_USER']}" class="form-control">
                  </div>
                  <div class="form-group">
                    <label for="calibre_pass">Calibre Password:</label>
                    <input type="password" id="calibre_pass" name="calibre_pass" value="${lazylibrarian.CONFIG['CALIBRE_PASS']}" class="form-control">
                  </div>
                  </fieldset>
                  <fieldset>
                  <div class="form-group">
                    <label for="imp_autoadd">Calibre Books Auto Add Directory:</label>
                    <input type="text" id="imp_autoadd" name="imp_autoadd" value="${lazylibrarian.CONFIG['IMP_AUTOADD']}" class="form-control">
                    <span class="help-block">Directory for a copy to be placed for auto add process</span>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_CALIBRE_EBOOK'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="imp_calibre_ebook">
                      <input type="checkbox" id="imp_calibre_ebook" name="imp_calibre_ebook" value="1" ${checked} />
                      Use calibredb to import ebooks</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_CALIBRE_COMIC'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="imp_calibre_comic">
                      <input type="checkbox" id="imp_calibre_comic" name="imp_calibre_comic" value="1" ${checked} />
                      Use calibredb to import comics</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_CALIBRE_MAGAZINE'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="imp_calibre_magazine">
                      <input type="checkbox" id="imp_calibre_magazine" name="imp_calibre_magazine" value="1" ${checked} />
                      Use calibredb to import magazines</label>
                  </div>
                 <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_CALIBRE_MAGTITLE'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="imp_calibre_magtitle">
                      <input type="checkbox" id="imp_calibre_magtitle" name="imp_calibre_magtitle" value="1" ${checked} />
                      Use magazine title as author</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_CALIBRE_MAGISSUE'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="imp_calibre_magissue">
                      <input type="checkbox" id="imp_calibre_magissue" name="imp_calibre_magissue" value="1" ${checked} />
                      Use magazine issue as title</label>
                  </div>
                   <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_AUTOADD_COPY'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="imp_autoadd_copy">
                      <input type="checkbox" id="imp_autoadd_copy" name="imp_autoadd_copy" value="1" ${checked} />
                      Keep a copy of the book in the local library</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_AUTOADD_BOOKONLY'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="imp_autoadd_bookonly">
                      <input type="checkbox" id="imp_autoadd_bookonly" name="imp_autoadd_bookonly" value="1" ${checked} />
                      Only send calibre the eBook, not opf or jpg</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['OPF_TAGS'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="opf_tags">
                      <input type="checkbox" id="opf_tags" name="opf_tags" value="1" ${checked} />
                      Add tags included with download to Calibre</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['GENRE_TAGS'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="genre_tags">
                      <input type="checkbox" id="genre_tags" name="genre_tags" value="1" ${checked} />
                      Add genres as tags to Calibre</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['WISHLIST_TAGS'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="wishlist_tags">
                      <input type="checkbox" id="wishlist_tags" name="wishlist_tags" value="1" ${checked} />
                      Add wishlist name as tag to Calibre</label>
                  </div>
                  </fieldset>
                  <fieldset>
                  <div class="form-group">
                    <label for="imp_autoadd">Calibre Magazines Auto Add Directory:</label>
                    <input type="text" id="imp_autoaddmag" name="imp_autoaddmag" value="${lazylibrarian.CONFIG['IMP_AUTOADDMAG']}" class="form-control">
                    <span class="help-block">Directory for a copy to be placed for auto add process</span>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_AUTOADDMAG_COPY'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="imp_autoaddmag_copy">
                      <input type="checkbox" id="imp_autoaddmag_copy" name="imp_autoaddmag_copy" value="1" ${checked} />
                      Keep a copy of the magazine in the local library</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_AUTOADD_MAGONLY'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="imp_autoadd_magonly">
                      <input type="checkbox" id="imp_autoadd_magonly" name="imp_autoadd_magonly" value="1" ${checked} />
                      Only add magazine, not opf or jpg</label>
                  </div>
                  </fieldset>
              </div>
              <div class="col-md-4">
                <fieldset>
                  <legend>Name Formatting</legend>
                  <div class="form-group">
                    <label for="name_postfix">Author Name suffix</label>
                    <input type="text" id="name_postfix" name="name_postfix" value="${lazylibrarian.CONFIG['NAME_POSTFIX']}" class="form-control" placeholder="eg snr, jnr">
                    <span class="help-block">Comma separated list of suffixes to ignore when showing surname first</span>
                  </div>
                  <div class="form-group">
                    <label for="name_postfix">Definite Articles</label>
                    <input type="text" id="name_definite" name="name_definite" value="${lazylibrarian.CONFIG['NAME_DEFINITE']}" class="form-control" placeholder="eg The, A, Les">
                    <span class="help-block">Comma separated list of definite articles for sorting titles</span>
                  </div>
                  <div class="form-group">
                    <label for="name_postfix">Title prefix stripping</label>
                    <input type="text" id="imp_nosplit" name="imp_nosplit" value="${lazylibrarian.CONFIG['IMP_NOSPLIT']}" class="form-control" placeholder="eg Doctor Who">
                    <span class="help-block">Comma separated list of prefixes to ignore when splitting titles</span>
                  </div>
                  <legend>Filename Formatting</legend>
                    <span class="help-block">Note: Calibre may override ebook folder and filename patterns</span>
                  <div class="form-group">
                    <label for="fmt_series">Series Pattern: ($Series variable)</label>
                    <input type="text" id="fmt_series" name="fmt_series" value="${lazylibrarian.CONFIG['FMT_SERIES']}" class="form-control" placeholder="eg ($SerName #$SerNum)">
                    <span class="help-block">Options: $SerName, $FmtName, $SerNum, $FmtNum, $PadNum, $PubYear, $SerYear, $$, any string.</span>
                    <small>Example:  <mark>${config['namevars']['Series']}</mark></small>
                  </div>
                  <div class="form-group">
                    <label for="fmt_sername">Series Name Pattern: ($FmtName variable)</label>
                    <input type="text" id="fmt_sername" name="fmt_sername" value="${lazylibrarian.CONFIG['FMT_SERNAME']}" class="form-control" placeholder="eg $SerName">
                    <span class="help-block">Options: $SerName, $PubYear, $SerYear, $$, any string.</span>
                    <small>Example:  <mark>${config['namevars']['FmtName']}</mark></small>
                  </div>
                  <div class="form-group">
                    <label for="fmt_sernum">Series Number Pattern: ($FmtNum variable)</label>
                    <input type="text" id="fmt_sernum" name="fmt_sernum" value="${lazylibrarian.CONFIG['FMT_SERNUM']}" class="form-control" placeholder="eg Book #$SerNum">
                    <span class="help-block">Options: $SerNum, $PadNum, $PubYear, $SerYear, $$, any string.</span>
                    <small>Example:  <mark>${config['namevars']['FmtNum']}</mark></small>
                  </div>
                  <div class="form-group">
                    <label for="ebook_dest_folder">eBook Foldername Pattern:</label>
                    <input type="text" id="ebook_dest_folder" name="ebook_dest_folder" value="${lazylibrarian.CONFIG['EBOOK_DEST_FOLDER']}" class="form-control" placeholder="eBook Destination Folder">
                    <span class="help-block">Options: $Author, $SortAuthor, $Title, $SortTitle, $Series, $SerName, $SerNum, $FmtName, $FmtNum, $PadNum, $PubYear, $SerYear, $Abridged, $$, any string.<br/>
                      <strong>Current limitation: Each title has to be in unique subfolder</strong></span>
                    <small>Example:  <mark>${config['namevars']['FolderName']}</mark></small>
                  </div>
                  <div class="form-group">
                    <label for="ebook_dest_file">eBook Filename Pattern:</label>
                    <input type="text" id="ebook_dest_file" name="ebook_dest_file" value="${lazylibrarian.CONFIG['EBOOK_DEST_FILE']}" class="form-control" placeholder="eBook Destination File">
                    <span class="help-block">Options: $Author, $SortAuthor, $Title, $SortTitle, $Series, $SerName, $SerNum, $FmtName, $FmtNum, $PadNum, $PubYear, $SerYear, $Abridged, $$, any string.<br/>
                      <strong>Current limitation: Each title has to be in unique subfolder</strong></span>
                      <small>Example:  <mark>${config['namevars']['BookFile']}</mark></small>
                  </div>
                  %if lazylibrarian.CONFIG['AUDIO_TAB'] == True:
                  <div class="form-group">
                    <label for="audiobook_dest_folder">AudioBook Foldername Pattern:</label>
                    <input type="text" id="audiobook_dest_folder" name="audiobook_dest_folder" value="${lazylibrarian.CONFIG['AUDIOBOOK_DEST_FOLDER']}" class="form-control" placeholder="AudioBook Destination Folder">
                    <span class="help-block">Options: $Author, $SortAuthor, $Title, $SortTitle, $Series, $SerName, $SerNum, $FmtName, $FmtNum, $PadNum, $PubYear, $SerYear, $Abridged, $$, any string.<br/>
                      <strong>Current limitation: Each title has to be in unique subfolder</strong></span>
                    <small>Example:  <mark>${config['namevars']['AudioFolderName']}</mark></small>
                  </div>
                  <div class="form-group">
                    <label for="audiobook_dest_file">AudioBook Filename Pattern:</label>
                    <input type="text" id="audiobook_dest_file" name="audiobook_dest_file" value="${lazylibrarian.CONFIG['AUDIOBOOK_DEST_FILE']}" class="form-control" placeholder="audioBook Destination File">
                    <span class="help-block">Options: $Author, $SortAuthor, $Title, $SortTitle, $Series, $SerName, $SerNum, $FmtName, $FmtNum, $PadNum, $PubYear, $SerYear, $Abridged, $Part, $Total, $$, any string.<br/>
                      <strong>Current limitation: Has to include $Title or $SortTitle and $Part</strong></span>
                      <small>Example:  <mark>${config['namevars']['AudioFile']}</mark></small>
                  </div>
                  <div class="form-group">
                    <label for="audiobook_single_file">AudioBook Filename Pattern for single file:</label>
                    <input type="text" id="audiobook_single_file" name="audiobook_single_file" value="${lazylibrarian.CONFIG['AUDIOBOOK_SINGLE_FILE']}" class="form-control" placeholder="Single file audioBook">
                    <span class="help-block">Options: $Author, $SortAuthor, $Title, $SortTitle, $Series, $SerName, $SerNum, $FmtName, $FmtNum, $PadNum, $PubYear, $SerYear, $Abridged $$, any string.<br/>
                      <strong>Current limitation: Has to include $Title or $SortTitle</strong></span>
                      <small>Example:  <mark>${config['namevars']['AudioSingleFile']}</mark></small>
                  </div>
                  %endif
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['DESTINATION_COPY'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="destination_copy">
                      <input type="checkbox" id="destination_copy" name="destination_copy" value="1" ${checked} />
                      Keep original files</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['ONE_FORMAT'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="one_format">
                      <input type="checkbox" id="one_format" name="one_format" value="1" ${checked} />
                      Only import one format of an ebook if multiple formats downloaded</label>
                  </div>
                  %if lazylibrarian.CONFIG['MAG_TAB'] == True:
                  <div class="form-group">
                    <label for="mag_dest_folder">Magazine Foldername Pattern:</label>
                    <input type="text" id="mag_dest_folder" name="mag_dest_folder" value="${lazylibrarian.CONFIG['MAG_DEST_FOLDER']}" class="form-control" placeholder="Magazines Destination Folder">
                    <span class="help-block">Absolute path, or inside book folder</span>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['MAG_RELATIVE'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="mag_relative" class="control-label">
                      <input type="checkbox" id="mag_relative" name="mag_relative" value="1" ${checked} />
                      Magazines inside book folder</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['MAG_DELFOLDER'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="mag_delfolder" class="control-label">
                      <input type="checkbox" id="mag_delfolder" name="mag_delfolder" value="1" ${checked} />
                      Delete folder and magazine details when last issue is removed</label>
                  </div>
                  <div class="form-group">
                    <label for="mag_dest_file">Magazine Filename Pattern:</label>
                    <input type="text" id="mag_dest_file" name="mag_dest_file" value="${lazylibrarian.CONFIG['MAG_DEST_FILE']}" class="form-control" placeholder="Magazine Issue Filename">
                    <span class="help-block">Options: $Title, $IssueDate, any string
                      <BR><strong>Current limitation: Filename must contain IssueDate</strong></span>
                  </div>
                  %endif
                  %if lazylibrarian.CONFIG['COMIC_TAB'] == True:
                  <div class="form-group">
                    <label for="comic_dest_folder">Comic Foldername Pattern:</label>
                    <input type="text" id="comic_dest_folder" name="comic_dest_folder" value="${lazylibrarian.CONFIG['COMIC_DEST_FOLDER']}" class="form-control" placeholder="Comics Destination Folder">
                    <span class="help-block">Absolute path, or inside book folder<br>Options: $Title, $Issue, $Publisher, any string</span>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['COMIC_RELATIVE'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="comic_relative" class="control-label">
                      <input type="checkbox" id="comic_relative" name="comic_relative" value="1" ${checked} />
                      Comics inside book folder</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['COMIC_DELFOLDER'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="comic_delfolder" class="control-label">
                      <input type="checkbox" id="comic_delfolder" name="comic_delfolder" value="1" ${checked} />
                      Delete folder and comic details when last issue is removed</label>
                  </div>
                  %endif
                </fieldset>
              </div>
              <div class="col-md-4">
                <fieldset>
                  <legend>Folders</legend>
                  <div class="form-group">
                    <label for="download_dir" class="control-label">Download Directories:</label>
                    <input type="text" id="download_dir" name="download_dir" value="${lazylibrarian.CONFIG['DOWNLOAD_DIR']}" class="form-control" placeholder="Download Directory">
                    <span class="help-block">Comma separated list of folders where downloaders place books</span>
                  </div>
                  %if lazylibrarian.CONFIG['EBOOK_TAB'] == True:
                  <div class="form-group">
                    <label for="ebook_dir" class="control-label">eBook Library Folder:</label>
                    <input type="text" id="ebook_dir" name="ebook_dir" value="${lazylibrarian.CONFIG['EBOOK_DIR']}" class="form-control" placeholder="eBook Library Folder">
                  </div>
                  %endif
                  %if lazylibrarian.CONFIG['AUDIO_TAB'] == True:
                  <div class="form-group">
                    <label for="audio_dir" class="control-label">AudioBook Library Folder:</label>
                    <input type="text" id="audio_dir" name="audio_dir" value="${lazylibrarian.CONFIG['AUDIO_DIR']}" class="form-control" placeholder="AudioBook Library Folder">
                  </div>
                  %endif
                  <div class="form-group">
                    <label for="alternate_dir" class="control-label">Alternate Import/Export Folder:</label>
                    <input type="text" id="alternate_dir" name="alternate_dir" value="${lazylibrarian.CONFIG['ALTERNATE_DIR']}" class="form-control" placeholder="Alternate Directory">
                    <span class="help-block">Directory for wishlists and manually importing books<br>
                      <strong>If "keep original files" is not set, LazyLibrarian can delete this folder after import</strong></span>
                  </div>
                  <legend>Permissions</legend>
                  <div class="input-group">
                    <span class="input-group-addon">File</span>
                    <input type="text" id="file_perm" name="file_perm" value="${lazylibrarian.CONFIG['FILE_PERM'][2:]}" class="form-control" placeholder="644">
                    <span class="input-group-addon">Directory</span>
                    <input type="text" id="dir_perm" name="dir_perm" value="${lazylibrarian.CONFIG['DIR_PERM'][2:]}" class="form-control" placeholder="755">
                    </div>
                    <span class="help-block">Permissions should be 3 or 4 digits<br>Defaults are File:644 Directory:755</span>
                  <legend>Miscellaneous</legend>
                  <div class="form-group">
                    <label for="cache_age" class="control-label">Cache expire after:</label>
                    <div class="input-group">
                      <input type="number" id="cache_age" name="cache_age" value="${lazylibrarian.CONFIG['CACHE_AGE']}" class="form-control" placeholder="0 to disable">
                      <span class="input-group-addon">Days</span>
                    </div>
                  </div>
                  %if lazylibrarian.CONFIG['MAG_TAB'] == True:
                  <div class="form-group">
                    <label for="mag_age" class="control-label">Max Magazine Issue Age:</label>
                    <div class="input-group">
                      <input type="number" id="mag_age" name="mag_age" value="${lazylibrarian.CONFIG['MAG_AGE']}" class="form-control" placeholder="0 to disable">
                      <span class="input-group-addon">Days</span>
                    </div>
                  </div>
                  %endif
                  <div class="form-group">
                    <label for="task_age" class="control-label">Remove failed tasks after:</label>
                    <div class="input-group">
                      <input type="number" id="task_age" name="task_age" value="${lazylibrarian.CONFIG['TASK_AGE']}" class="form-control" placeholder="0 to disable">
                      <span class="input-group-addon">Hours</span>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="match_ratio">Search Match Ratio:</label>
                    <div class="input-group">
                      <input type="number" id="match_ratio" name="match_ratio" value="${lazylibrarian.CONFIG['MATCH_RATIO']}" class="form-control" placeholder="Search Match Ratio (percent)">
                      <span class="input-group-addon">%</span>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="dload_ratio">Download Match Ratio:</label>
                    <div class="input-group">
                      <input type="number" id="dload_ratio" name="dload_ratio" value="${lazylibrarian.CONFIG['DLOAD_RATIO']}" class="form-control" placeholder="Download Match Ratio (percent)">
                      <span class="input-group-addon">%</span>
                    </div>
                  </div>
                  <div class="form-group">
                    <label for="max_pages">Maximum Search Pages:</label>
                    <input type="number" id="max_pages" name="max_pages" value="${lazylibrarian.CONFIG['MAX_PAGES']}" class="form-control" placeholder="0 for no limit">
                  </div>
                  <div class="form-group">
                    <label for="max_bookpages">Maximum Author Pages:</label>
                    <input type="number" id="max_bookpages" name="max_bookpages" value="${lazylibrarian.CONFIG['MAX_BOOKPAGES']}" class="form-control" placeholder="0 for no limit">
                  </div>
                  <div class="form-group">
                    <label for="dload_ratio">Maximum Coverwall Images:</label>
                    <input type="number" id="max_wall" name="max_wall" value="${lazylibrarian.CONFIG['MAX_WALL']}" class="form-control" placeholder="0 for no limit">
                  </div>
                </fieldset>
                <fieldset>
                  %if lazylibrarian.CONFIG['MAG_TAB'] == True:
                  <div class="form-group">
                    <label for="imp_convert">Cover creation program:</label>
                    <input type="text" placeholder="Cover creation program" id="imp_convert" name="imp_convert" value="${lazylibrarian.CONFIG['IMP_CONVERT']}" class="form-control">
                    <span class="help-block">Program for creating magazine covers (see wiki for details)  Leave blank to use a local copy of ghostscript, or PythonMagick or Wand interfaces to ImageMagick</span>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_MAGCOVER'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="imp_magcover" class="control-label">
                      <input type="checkbox" id="imp_magcover" name="imp_magcover" value="1" ${checked} />
                      Create cover files for magazines</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_MAGOPF'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="imp_magopf" class="control-label">
                      <input type="checkbox" id="imp_magopf" name="imp_magopf" value="1" ${checked} />
                      Create opf files for magazines</label>
                  </div>
                  %endif
                </fieldset>
                <fieldset>
                  %if lazylibrarian.CONFIG['COMIC_TAB'] == True:
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_COMICCOVER'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="imp_comiccover" class="control-label">
                      <input type="checkbox" id="imp_comiccover" name="imp_comiccover" value="1" ${checked} />
                      Create cover files for comics</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_COMICOPF'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="imp_comicopf" class="control-label">
                      <input type="checkbox" id="imp_comicopf" name="imp_comicopf" value="1" ${checked} />
                      Create opf files for comics</label>
                  </div>
                  %endif
                </fieldset>
                <fieldset>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['FULL_SCAN'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="full_scan" class="control-label">
                      <input type="checkbox" id="full_scan" name="full_scan" value="1" ${checked} />
                      Full scan</label>
                    <span class="help-block">This will remove database entries for books removed from the download location or no longer listed at goodreads/googlebooks</span>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_SINGLEBOOK'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="imp_singlebook" class="control-label">
                      <input type="checkbox" id="imp_singlebook" name="imp_singlebook" value="1" ${checked} />
                      Import one book per directory</label>
                    <span class="help-block">Tick this if you keep multiple formats of the same book in the same directory</span>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_RENAME'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="imp_rename" class="control-label">
                      <input type="checkbox" id="imp_rename" name="imp_rename" value="1" ${checked} />
                      Rename existing books on libraryscan</label>
                  </div>
                  %if lazylibrarian.CONFIG['MAG_TAB'] == True:
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['MAG_RENAME'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="mag_rename" class="control-label">
                      <input type="checkbox" id="mag_rename" name="mag_rename" value="1" ${checked} />
                      Rename existing magazines on libraryscan</label>
                  </div>
                  %endif
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['ADD_AUTHOR'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="add_author" class="control-label">
                      <input type="checkbox" id="add_author" name="add_author" value="1" ${checked} />
                      Add New Authors</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['ADD_SERIES'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="add_series" class="control-label">
                      <input type="checkbox" id="add_series" name="add_series" value="1" ${checked} />
                      Add Series Info</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['NO_SINGLE_BOOK_SERIES'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="no_single_book_series" class="control-label">
                      <input type="checkbox" id="no_single_book_series" name="no_single_book_series" value="1" ${checked} />
                      Ignore single-book series</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['NO_NONINTEGER_SERIES'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="no_noninteger_series" class="control-label">
                      <input type="checkbox" id="no_noninteger_series" name="no_noninteger_series" value="1" ${checked} />
                      Ignore non-integer series members</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['IMP_AUTOSEARCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="imp_autosearch" class="control-label">
                      <input type="checkbox" id="imp_autosearch" name="imp_autosearch" value="1" ${checked} />
                      Search when added</label>
                  </div>
                  %if lazylibrarian.CONFIG['MAG_TAB'] == True:
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['MAG_SINGLE'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="mag_single" class="control-label">
                      <input type="checkbox" id="mag_single" name="mag_single" value="1" ${checked} />
                      Quick open single issues of magazines</label>
                  </div>
                  %endif
                  %if lazylibrarian.CONFIG['COMIC_TAB'] == True:
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['COMIC_SINGLE'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                    %>
                    <label for="comic_single" class="control-label">
                      <input type="checkbox" id="comic_single" name="comic_single" value="1" ${checked} />
                      Quick open single issues of comics</label>
                  </div>
                  %endif
                </fieldset>
                <fieldset>
                  <legend>eBook Conversions</legend>
                  <div class="form-group">
                    <label for="ebook_wanted_formats">eBook wanted formats:</label>
                    <input type="text" id="ebook_wanted_formats" name="ebook_wanted_formats" value="${lazylibrarian.CONFIG['EBOOK_WANTED_FORMATS']}" class="form-control" placeholder="wanted formats">
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['KEEP_OPF'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="keep_opf" class="control-label">
                      <input type="checkbox" id="keep_opf" name="keep_opf" value="1" ${checked} />
                      Keep downloaded opf</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['KEEP_JPG'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="keep_jpg" class="control-label">
                      <input type="checkbox" id="keep_jpg" name="keep_jpg" value="1" ${checked} />
                      Keep downloaded jpg</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['DELETE_OTHER_FORMATS'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="delete_other_formats" class="control-label">
                      <input type="checkbox" id="delete_other_formats" name="delete_other_formats" value="1" ${checked} />
                      Delete unwanted filetypes</label>
                  </div>
                  <legend>AudioBook Conversions</legend>
                  <div class="form-group">
                    <label for="audio_options">ffmpeg options:</label>
                    <input type="text" id="audio_options" name="audio_options" value="${lazylibrarian.CONFIG['AUDIO_OPTIONS']}" class="form-control" placeholder="audio options">
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['CREATE_SINGLEAUDIO'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="create_singleaudio" class="control-label">
                      <input type="checkbox" id="create_singleaudio" name="create_singleaudio" value="1" ${checked} />
                      Merge audiobook parts into one file</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['KEEP_SEPARATEAUDIO'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="keep_separateaudio" class="control-label">
                      <input type="checkbox" id="keep_separateaudio" name="keep_separateaudio" value="1" ${checked} />
                      Also keep separate parts</label>
                  </div>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['WRITE_AUDIOTAGS'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="write_audiotags" class="control-label">
                      <input type="checkbox" id="write_audiotags" name="write_audiotags" value="1" ${checked} />
                      Write audio tags</label>
                  </div>
                  <legend>Magazine Conversions</legend>
                  <div class="checkbox">
                    <%
                        if lazylibrarian.CONFIG['SWAP_COVERPAGE'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                    <label for="swap_coverpage" class="control-label">
                      <input type="checkbox" id="swap_coverpage" name="swap_coverpage" value="1" ${checked} />
                      Swap Coverpage</label>
                  </div>
                  <div class="form-group">
                    <label for="shrink_mag">Resolution (dpi):</label>
                    <input type="number" id="shrink_mag" name="shrink_mag" value="${lazylibrarian.CONFIG['SHRINK_MAG']}" class="form-control" placeholder="0 for no change">
                  </div>
                 </fieldset>
              </div>
            </div>
            <br>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="notifications">
          <div class="configtable">
            <div class="row">
              <div class="col-md-6">
              %if lazylibrarian.CONFIG['HIDE_OLD_NOTIFIERS'] == False:
                <div class="checkbox">
                  <%
                    if lazylibrarian.CONFIG['USE_TWITTER'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="use_twitter">
                    <input type="checkbox" id="use_twitter" name="use_twitter" value="1" ${checked} />
                    Enable Twitter Notifications</label>
                </div>
                <div id="twitteroptions">
                  <fieldset>
                    <legend>Twitter</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['TWITTER_NOTIFY_ONSNATCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="twitter_notify_onsnatch" class="control-label">
                        <input type="checkbox" id="twitter_notify_onsnatch" name="twitter_notify_onsnatch" value="1" ${checked} />
                        Notify on snatch</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['TWITTER_NOTIFY_ONDOWNLOAD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="twitter_notify_ondownload">
                        <input type="checkbox" id="twitter_notify_ondownload" name="twitter_notify_ondownload" value="1" ${checked} />
                        Notify on download</label>
                    </div>
                    </div>
                    <div class="form-group">
                      <input type="button" value="Request Authorization" id="twitterStep1" class="btn btn-default" />
                    </div>
                    <div class="form-group">
                      <label for="twitter_key" class="control-label">Twitter Key</label>
                      <input type="text" id="twitter_key" name="twitter_key" value="" placeholder="Twitter Authorization Key" class="form-control" />
                      <span class="help-block">Enter the key from the twitter authorization page here, DO NOT press Enter or save the config. The key is single-use and will not be saved. Press [Verify Key] to complete authorization.</span>
                    </div>
                    <div class="form-group">
                      <input type="button" value="Verify Key" id="twitterStep2" class="btn btn-default" />
                    </div>
                    <div class="form-group">
                      <input type="button" value="Test Twitter" id="testTwitter" class="btn btn-default" />
                    </div>
                  </fieldset>
                </div>
                <div class="checkbox">
                  <%
                    if lazylibrarian.CONFIG['USE_BOXCAR'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="use_boxcar" class="control-label">
                    <input type="checkbox" id="use_boxcar" name="use_boxcar" value="1" ${checked} />
                    Enable boxcar Notifications</label>
                </div>
                <div id="boxcaroptions">
                  <fieldset>
                    <legend>Boxcar2</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['BOXCAR_NOTIFY_ONSNATCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="boxcar_notify_onsnatch" class="control-label">
                        <input type="checkbox" id="boxcar_notify_onsnatch" name="boxcar_notify_onsnatch" value="1" ${checked} />
                        Notify on snatch</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['BOXCAR_NOTIFY_ONDOWNLOAD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="boxcar_notify_ondownload">
                        <input type="checkbox" id="boxcar_notify_ondownload" name="boxcar_notify_ondownload" value="1" ${checked} />
                        Notify on download</label>
                    </div>
                    </div>
                    <div class="form-group">
                      <label for="boxcar_token" class="control-label">Boxcar Token</label>
                      <input type="text" id="boxcar_token" name="boxcar_token" value="${lazylibrarian.CONFIG['BOXCAR_TOKEN']}" placeholder="Boxcar token" class="form-control">
                    </div>
                    <div class="form-group">
                      <input type="button" value="Test Boxcar" id="testBoxcar" class="btn btn-default">
                    </div>
                  </fieldset>
                </div>
                <div class="checkbox">
                  <%
                    if lazylibrarian.CONFIG['USE_PUSHBULLET'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="use_pushbullet" class="control-label">
                    <input type="checkbox" id="use_pushbullet" name="use_pushbullet" value="1" ${checked} />
                    Enable Pushbullet Notifications</label>
                </div>
                <div id="pushbulletoptions">
                  <fieldset>
                    <legend>Pushbullet</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['PUSHBULLET_NOTIFY_ONSNATCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="pushbullet_notify_onsnatch">
                        <input type="checkbox" id="pushbullet_notify_onsnatch" name="pushbullet_notify_onsnatch" value="1" ${checked} />
                        Notify on snatch</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['PUSHBULLET_NOTIFY_ONDOWNLOAD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="pushbullet_notify_ondownload">
                        <input type="checkbox" id="pushbullet_notify_ondownload" name="pushbullet_notify_ondownload" value="1" ${checked} />
                        Notify on download</label>
                    </div>
                    </div>
                    <div class="form-group">
                      <label for="pushbullet_token">Pushbullet API</label>
                      <input type="text" id="pushbullet_token" name="pushbullet_token" value="${lazylibrarian.CONFIG['PUSHBULLET_TOKEN']}" class="form-control" placeholder="Pushbullet API">
                    </div>
                    <div class="form-group">
                      <label for="pushbullet_deviceid" class="control-label">Device ID</label>
                      <input type="text" id="pushbullet_deviceid" name="pushbullet_deviceid" value="${lazylibrarian.CONFIG['PUSHBULLET_DEVICEID']}" class="form-control" placeholder="Pushbullet DeviceID">
                    </div>
                    <div class="form-group">
                      <input type="button" value="Test Pushbullet" id="testPushbullet" class="btn btn-default">
                    </div>
                  </fieldset>
                </div>
                <div class="checkbox">
                  <%
                    if lazylibrarian.CONFIG['USE_PUSHOVER'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="use_pushover" class="control-label">
                    <input type="checkbox" id="use_pushover" name="use_pushover" value="1" ${checked} />
                    Enable Pushover Notifications</label>
                </div>
                <div id="pushoveroptions">
                  <fieldset>
                    <legend>Pushover</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['PUSHOVER_ONSNATCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="pushover_onsnatch">
                        <input type="checkbox" id="pushover_onsnatch" name="pushover_onsnatch" value="1" ${checked} />
                        Notify on snatch</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['PUSHOVER_ONDOWNLOAD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="pushover_ondownload" class="control-label">
                        <input type="checkbox" id="pushover_ondownload" name="pushover_ondownload" value="1" ${checked} />
                        Notify on download</label>
                    </div>
                    </div>
                    <div class="form-group">
                      <label for="pushover_apitoken">Pushover API</label>
                      <input type="text" id="pushover_apitoken" name="pushover_apitoken" value="${lazylibrarian.CONFIG['PUSHOVER_APITOKEN']}" class="form-control" placeholder="Pushover API Token">
                    </div>
                    <div class="form-group">
                      <label for="pushover_keys" class="control-label">Pushover Keys</label>
                      <input type="text" id="pushover_keys" name="pushover_keys" value="${lazylibrarian.CONFIG['PUSHOVER_KEYS']}" class="form-control" placeholder="Pushover Keys">
                    </div>
                    <div class="form-group">
                      <label for="pushover_device" class="control-label">Pushover Device</label>
                      <input type="text" id="pushover_device" name="pushover_device" value="${lazylibrarian.CONFIG['PUSHOVER_DEVICE']}" class="form-control" placeholder="Pushover Device">
                    </div>
                    <div class="form-group">
                      <label for="pushover_priority" class="control-label">Pushover Priority</label>
                      <input type="number" id="pushover_priority" name="pushover_priority" min=-2 max=1 value="${lazylibrarian.CONFIG['PUSHOVER_PRIORITY']}" class="form-control" placeholder="Pushover Priority">
                    </div>
                    <div class="form-group">
                      <input type="button" value="Test Pushover" id="testPushover" class="btn btn-default">
                    </div>
                  </fieldset>
                </div>
                <div class="checkbox">
                  <%
                    if lazylibrarian.CONFIG['USE_ANDROIDPN'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="use_androidpn" class="control-label">
                    <input type="checkbox" id="use_androidpn" name="use_androidpn" value="1" ${checked} />
                    Enable AndroidPN Notifications</label>
                </div>
                <div id="androidpnoptions">
                  <fieldset>
                    <legend>AndroidPN</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['ANDROIDPN_NOTIFY_ONSNATCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="androidpn_notify_onsnatch" class="control-label">
                        <input type="checkbox" id="androidpn_notify_onsnatch" name="androidpn_notify_onsnatch" value="1" ${checked} />
                        Notify on snatch</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['ANDROIDPN_NOTIFY_ONDOWNLOAD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="androidpn_notify_ondownload" class="control-label">
                        <input type="checkbox" id="androidpn_notify_ondownload" name="androidpn_notify_ondownload" value="1" ${checked} />
                        Notify on download</label>
                    </div>
                    </div>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['ANDROIDPN_BROADCAST'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="androidpn_broadcast" class="control-label">
                        <input type="checkbox" id="androidpn_broadcast" name="androidpn_broadcast" value="1" ${checked} />
                        Broadcast notification</label>
                    </div>
                    </div>
                    <div class="form-group">
                      <label for="androidpn_url" class="control-label">AndroidPN Notification URL</label>
                      <input type="text" id="androidpn_url" name="androidpn_url" value="${lazylibrarian.CONFIG['ANDROIDPN_URL']}" class="form-control" placeholder="AndroidPN Notification URL" />
                    </div>
                    <div class="form-group">
                      <label for="androidpn_username" class="control-label">Username</label>
                      <input type="text" id="androidpn_username" name="androidpn_username"  value="${lazylibrarian.CONFIG['ANDROIDPN_USERNAME']}" class="form-control" placeholder="AndroidPN Username" />
                    </div>
                    <div class="form-group">
                      <input type="button" value="Test AndroidPN" id="testAndroidPN" class="btn btn-default" />
                    </div>
                  </fieldset>
                </div>
              %endif
                <div class="checkbox">
                  <%
                    if lazylibrarian.CONFIG['USE_EMAIL'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="use_email" class="control-label">
                    <input type="checkbox" id="use_email" name="use_email" value="1" ${checked} />
                    Enable Email Notifications</label>
                </div>
                <div id="emailoptions">
                  <fieldset>
                    <legend>Email</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['EMAIL_NOTIFY_ONSNATCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                      %>
                      <label for="email_notify_onsnatch">
                        <input type="checkbox" id="email_notify_onsnatch" name="email_notify_onsnatch" value="1" ${checked} />
                        Notify on snatch</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['EMAIL_NOTIFY_ONDOWNLOAD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="email_notify_ondownload">
                        <input type="checkbox" id="email_notify_ondownload" name="email_notify_ondownload" value="1" ${checked} />
                        Notify on download</label>
                    </div>
                    </div>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['EMAIL_SENDFILE_ONDOWNLOAD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="email_sendfile_ondownload">
                        <input type="checkbox" id="email_sendfile_ondownload" name="email_sendfile_ondownload" value="1" ${checked} />
                        Attach book on download</label>
                    </div>
                    </div>
                    <div class="row form-group">
                    <div class="col-md-6">
                      <label for="email_from">Email From</label>
                      <input type="text" id="email_from" name="email_from" value="${lazylibrarian.CONFIG['EMAIL_FROM']}" class="form-control" placeholder="Email From Address">
                    </div>
                    <div class="col-md-6">
                      <label for="email_to">Email To</label>
                      <input type="text" id="email_to" name="email_to" value="${lazylibrarian.CONFIG['EMAIL_TO']}" class="form-control" placeholder="Email To Address">
                    </div>
                    </div>
                    <div class="row form-group">
                    <div class="col-md-6">
                      <label for="email_smtp_server">SMTP Server</label>
                      <input type="text" id="email_smtp_server" name="email_smtp_server" value="${lazylibrarian.CONFIG['EMAIL_SMTP_SERVER']}" class="form-control" placeholder="SMTP Server">
                    </div>
                    <div class="col-md-6">
                      <label for="email_smtp_port">SMTP Port</label>
                      <input type="number" id="email_smtp_port" name="email_smtp_port" value="${lazylibrarian.CONFIG['EMAIL_SMTP_PORT']}" class="form-control" placeholder="SMTP Port">
                    </div>
                    </div>
                    <div class="row form-group">
                    <div class="col-md-6">
                      <label for="email_smtp_user">SMTP User</label>
                      <input type="text" id="email_smtp_user" name="email_smtp_user" value="${lazylibrarian.CONFIG['EMAIL_SMTP_USER']}" class="form-control" placeholder="SMTP User">
                    </div>
                    <div class="col-md-6">
                      <label for="email_smtp_password">SMTP Password</label>
                      <input type="password" id="email_smtp_password" name="email_smtp_password" value="${lazylibrarian.CONFIG['EMAIL_SMTP_PASSWORD']}" class="form-control" placeholder="SMTP Password">
                    </div>
                    </div>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['EMAIL_SSL'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="email_ssl">
                        <input type="checkbox" id="email_ssl" name="email_ssl" value="1" ${checked} />
                        SSL</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['EMAIL_TLS'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="email_tls">
                        <input type="checkbox" id="email_tls" name="email_tls" value="1" ${checked} />
                        TLS</label>
                    </div>
                    </div>
                    <div class="checkbox">
                      <%
                      if lazylibrarian.CONFIG['USE_EMAIL_CUSTOM_FORMAT'] == True:
                        checked = 'checked="checked"'
                      else:
                          checked = ''
                      %>
                      <label for="use_email_custom_format" class="control-label">
                        <input type="checkbox" id="use_email_custom_format" name="use_email_custom_format" value="1"
                               ${checked}/>
                        Enable Email Custom Type (requires full Calibre install)</label>
                    </div>
                    <div id="email_custom_format_options">
                      <span class="help-block">Send a different file type than the one downloaded and convert if necessary. Useful if you download ePUB files but need to send a MOBI to a Kindle. Only file types listed here will be converted.</span>
                      <fieldset>
                        <div class="row form-group">
                          <div class="col-md-6">
                            <label for="email_send_type">Filetype to send</label>
                            <input type="text" id="email_send_type" name="email_send_type"
                                   value="${lazylibrarian.CONFIG['EMAIL_SEND_TYPE']}" class="form-control"
                                   placeholder="mobi">
                          </div>
                          <div class="col-md-6">
                            <label for="email_convert_from">Filetypes to convert from</label>
                            <input type="text" id="email_convert_from" name="email_convert_from"
                                   value="${lazylibrarian.CONFIG['EMAIL_CONVERT_FROM']}" class="form-control"
                                   placeholder="epub">
                          </div>
                        </div>
                      </fieldset>
                    </div>
                    <div class="form-group">
                      <input type="button" value="Test Email" id="testEmail" class="btn btn-default">
                    </div>
                  </fieldset>
                </div>
              </div>
              <div class="col-md-6">
              %if lazylibrarian.CONFIG['HIDE_OLD_NOTIFIERS'] == False:
                <div class="checkbox">
                  <%
                    if lazylibrarian.CONFIG['USE_PROWL'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="use_prowl" class="control-label">
                    <input type="checkbox" name="use_prowl" id="use_prowl" value="1" ${checked} />
                    Enable Prowl</label>
                </div>
                <div id="prowloptions">
                  <fieldset>
                    <legend>Prowl</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['PROWL_ONSNATCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="prowl_onsnatch" class="control-label">
                        <input type="checkbox" id="prowl_onsnatch" name="prowl_onsnatch" value="1" ${checked} />
                        Notify on snatch</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['PROWL_ONDOWNLOAD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="prowl_ondownload" class="control-label">
                        <input type="checkbox" id="prowl_ondownload" name="prowl_ondownload" value="1" ${checked} />
                        Notify on download</label>
                    </div>
                    </div>
                    <div class="form-group">
                      <label for="prowl_apikey" class="control-label">Prowl API Key</label>
                      <input type="text" id="prowl_apikey" name="prowl_apikey" value="${lazylibrarian.CONFIG['PROWL_APIKEY']}" class="form-control" placeholder="Prowl API Key">
                      <span class="help-block">Separate multiple api keys with commas</span>
                    </div>
                    <div class="form-group">
                      <label for="prowl_priority" class="control-label">Priority</label>
                      <select id="prowl_priority" name="prowl_priority" class="form-control">
                        %for x in [-2,-1,0,1,2]:
                        <%
                            if lazylibrarian.CONFIG['PROWL_PRIORITY'] == x:
                                prowl_priority_selected = 'selected'
                            else:
                                prowl_priority_selected = ''

                            if x == -2:
                                prowl_priority_value = 'Very Low'
                            elif x == -1:
                                prowl_priority_value = 'Moderate'
                            elif x == 0:
                                prowl_priority_value = 'Normal'
                            elif x == 1:
                                prowl_priority_value = 'High'
                            else:
                                prowl_priority_value = 'Emergency'
                        %>
                        <option value="${x}" ${prowl_priority_selected}>${prowl_priority_value}</option>
                        %endfor
                      </select>
                    </div>
                    <div class="form-group">
                      <input type="button" value="Test Prowl" id="testProwl" class="btn btn-default" />
                    </div>
                  </fieldset>
                </div>
                <div class="checkbox">
                  <%
                    if lazylibrarian.CONFIG['USE_GROWL'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="use_growl" class="control-label">
                    <input type="checkbox" name="use_growl" id="use_growl" value="1" ${checked} />
                    Enable Growl</label>
                </div>
                <div id="growloptions">
                  <fieldset>
                    <legend>Growl</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['GROWL_ONSNATCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="growl_onsnatch" class="control-label">
                        <input type="checkbox" id="growl_onsnatch" name="growl_onsnatch" value="1" ${checked} />
                        Notify on snatch</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['GROWL_ONDOWNLOAD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="growl_ondownload" class="control-label">
                        <input type="checkbox" id="growl_ondownload" name="growl_ondownload" value="1" ${checked} />
                        Notify on download</label>
                    </div>
                    </div>
                    <div class="input-group">
                      <span class="input-group-addon">Host</span>
                      <input type="text" id="growl_host" name="growl_host" value="${lazylibrarian.CONFIG['GROWL_HOST']}" class="form-control" placeholder="eg localhost:23053">
                      <span class="input-group-addon">Password</span>
                      <input type="number" id="growl_password" name="growl_password" value="${lazylibrarian.CONFIG['GROWL_PASSWORD']}" class="form-control" placeholder="none">
                    </div>
                    <div class="form-group">
                      <input type="button" value="Test Growl" id="testGrowl" class="btn btn-default" />
                    </div>
                  </fieldset>
                </div>
                <div class="checkbox">
                  <%
                    if lazylibrarian.CONFIG['USE_TELEGRAM'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="use_telegram" class="control-label">
                    <input type="checkbox" name="use_telegram" id="use_telegram" value="1" ${checked} />
                    Enable Telegram</label>
                </div>
                <div id="telegramoptions">
                  <fieldset>
                    <legend>Telegram</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['TELEGRAM_ONSNATCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="telegram_onsnatch" class="control-label">
                        <input type="checkbox" id="telegram_onsnatch" name="telegram_onsnatch" value="1" ${checked} />
                        Notify on snatch</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['TELEGRAM_ONDOWNLOAD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="telegram_ondownload" class="control-label">
                        <input type="checkbox" id="telegram_ondownload" name="telegram_ondownload" value="1" ${checked} />
                        Notify on download</label>
                    </div>
                    </div>
                    <div class="form-group">
                      <label for="telegram_token" class="control-label">Telegram Token</label>
                      <input type="text" id="telegram_token" name="telegram_token" value="${lazylibrarian.CONFIG['TELEGRAM_TOKEN']}" class="form-control" placeholder="Telegram Token"><small>Contact <a href="http://telegram.me/BotFather">@BotFather</a> to create a bot and get its token
                      <br>After creating the bot, send it a message from telegram to activate it</small>
                    </div>
                    <div class="form-group">
                      <label for="telegram_userid" class="control-label">Telegram UserID</label>
                      <input type="text" id="telegram_userid" name="telegram_userid" value="${lazylibrarian.CONFIG['TELEGRAM_USERID']}" class="form-control" placeholder="Telegram UserID"><small>Contact <a href="http://telegram.me/myidbot">@myidbot</a> to get your user ID</small>
                    </div>
                    <div class="form-group">
                      <input type="button" value="Test Telegram" id="testTelegram" class="btn btn-default" />
                    </div>
                  </fieldset>
                </div>
                <div class="checkbox">
                  <%
                    if lazylibrarian.CONFIG['USE_SLACK'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="use_slack" class="control-label">
                    <input type="checkbox" id="use_slack" name="use_slack" value="1" ${checked} />
                    Enable Slack Notifications</label>
                </div>
                <div id="slackoptions">
                  <fieldset>
                    <legend>Slack</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['SLACK_NOTIFY_ONSNATCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="slack_notify_onsnatch">
                        <input type="checkbox" id="slack_notify_onsnatch" name="slack_notify_onsnatch" value="1" ${checked} />
                        Notify on snatch</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['SLACK_NOTIFY_ONDOWNLOAD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="slack_notify_ondownload">
                        <input type="checkbox" id="slack_notify_ondownload" name="slack_notify_ondownload" value="1" ${checked} />
                        Notify on download</label>
                    </div>
                    </div>
                    <div class="form-group">
                      <label for="slack_url">Slack Webhook URL (usually https://hooks.slack.com/services/)</label>
                      <input type="text" id="slack_url" name="slack_url" value="${lazylibrarian.CONFIG['SLACK_URL']}" class="form-control" placeholder="Slack Webhook URL">
                    </div>
                    <div class="form-group">
                      <label for="slack_token">Slack Webhook Token (everything after https://hooks.slack.com/services/)</label>
                      <input type="text" id="slack_token" name="slack_token" value="${lazylibrarian.CONFIG['SLACK_TOKEN']}" class="form-control" placeholder="Slack Webhook Token">
                    </div>
                    <div class="form-group">
                      <input type="button" value="Test Slack" id="testSlack" class="btn btn-default">
                    </div>
                  </fieldset>
                </div>
              %endif
                <div class="checkbox">
                  <%
                    if lazylibrarian.CONFIG['USE_CUSTOM'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="use_custom" class="control-label">
                    <input type="checkbox" id="use_custom" name="use_custom" value="1" ${checked} />
                    Enable Custom Notifications</label>
                </div>
                <div id="customoptions">
                  <fieldset>
                    <legend>Custom</legend>
                    <div class="row checkbox">
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['CUSTOM_NOTIFY_ONSNATCH'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="custom_notify_onsnatch">
                        <input type="checkbox" id="custom_notify_onsnatch" name="custom_notify_onsnatch" value="1" ${checked} />
                        Notify on snatch</label>
                    </div>
                    <div class="col-md-6">
                      <%
                        if lazylibrarian.CONFIG['CUSTOM_NOTIFY_ONDOWNLOAD'] == True:
                            checked = 'checked="checked"'
                        else:
                            checked = ''
                        %>
                      <label for="custom_notify_ondownload">
                        <input type="checkbox" id="custom_notify_ondownload" name="custom_notify_ondownload" value="1" ${checked} />
                        Notify on download</label>
                    </div>
                    </div>
                    <div class="form-group">
                      <label for="custom_script">Custom script to run</label>
                      <input type="text" id="custom_script" name="custom_script" value="${lazylibrarian.CONFIG['CUSTOM_SCRIPT']}" class="form-control" placeholder="Custom Script">
                    </div>
                    <div class="form-group">
                      <input type="button" value="Test Custom" id="testCustom" class="btn btn-default">
                    </div>
                  </fieldset>
                </div>
              </div>
              %if lazylibrarian.APPRISE and lazylibrarian.APPRISE[0].isdigit():
                <div id="apprise">
                  <div class="col-md-12">
                    <legend>Apprise Notifiers
                    <button class="button btn btn-sm btn-primary" type="button" value="Supported Types" id="show_apprise"><i class="fa fa-list-ul"></i> Supported Types</button>
                    </legend>
                  </div>
                  %for provider in lazylibrarian.APPRISE_PROV:
                  %if provider['DISPNAME'] != '':
                  <%
                   onsnatch = ''
                   if provider['SNATCH'] == True:
                       onsnatch = 'checked="checked"'
                   ondownload = ''
                   if provider['DOWNLOAD'] == True:
                       ondownload = 'checked="checked"'
                  %>
                  <div class="col-md-6 form-group">
                    <div class="input-group">
                      <span class="input-group-addon">Name</span>
                      <input type="text" id="apprise_${loop.index}_dispname" name="apprise_${loop.index}_dispname" value="${provider['DISPNAME']}" class="form-control" placeholder="name">
                      <span class="input-group-addon">S
                        &nbsp;<input type="checkbox" id="apprise_${loop.index}_snatch" data-toggle="tooltip" title="Notify Snatch" name="apprise_${loop.index}_snatch" value="1" ${onsnatch} />&nbsp;
                      </span>
                      <span class="input-group-addon">D
                        &nbsp;<input type="checkbox" id="apprise_${loop.index}_download" data-toggle="tooltip" title="Notify Download" name="apprise_${loop.index}_download" value="1" ${ondownload} />&nbsp;
                      </span>
                    </div>
                    <div class="input-group">
                      <span class="input-group-addon"></span>
                      <label for="apprise_${loop.index}_url" class="sr-only">URL</label>
                      <input type="text" placeholder="URL #${loop.index} see docs for format" id="apprise_${loop.index}_url" name="apprise_${loop.index}_url" value="${provider['URL']}" class="form-control" />
                      <span class="input-group-addon">
                        <button role="testprov" class="button btn btn-xs btn-warning btn-primary" type="button" value="apprise_${loop.index}"> Test</button>
                      </span>
                    </div>
                  </div>
                  %endif
                  %endfor
                </div>
              %endif
              <div id="notifieroptions">
                <div class="col-md-12">
                  <legend>Options</legend>
                    <div class="row checkbox">
                      <div class="col-md-6">
                        <%
                          if lazylibrarian.CONFIG['NOTIFY_WITH_TITLE'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="notify_with_title" class="control-label">
                          <input type="checkbox" id="notify_with_title" name="notify_with_title" value="1" ${checked} />
                          Show title in download notification</label>
                      </div>
                      <div class="col-md-6">
                         <%
                          if lazylibrarian.CONFIG['NOTIFY_WITH_URL'] == True:
                              checked = 'checked="checked"'
                          else:
                              checked = ''
                        %>
                        <label for="notify_with_url" class="control-label">
                          <input type="checkbox" id="notify_with_url" name="notify_with_url" value="1" ${checked} />
                          Show url in download notification<br><small>(WARNING may contain api key)</small></label>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="capabilities">
          <div class="configtable">
              <div>
              You only need to alter category settings if auto-detection fails or returns incorrect values. If you make any alterations, tick the lock button to prevent reloading values from the provider. API limit is not read from the provider and is not affected by lock.
              </div>
            <div class="row">
                %for provider in lazylibrarian.NEWZNAB_PROV:
                <%
                  if provider['HOST'] == "":
                    hidden = 'hidden="hidden"'
                  else:
                    hidden = ''
                %>
                <%
                  if 'APILIMIT' in provider:
                    apilimit = provider['APILIMIT']
                  else:
                    apilimit = 0
                %>
                <div class="col-md-6">
                <legend ${hidden}>${provider['DISPNAME']}</legend>
                <input type="text" id="newznab_${loop.index}_name" name="newznab_${loop.index}_name" value="${provider['NAME']}" class="hidden">
                <input type="text" id="newznab_${loop.index}_updated" name="newznab_${loop.index}_updated" value="${provider['UPDATED']}" class="hidden">
                <div class="row form-group" ${hidden}>
                <div class="col-md-6">
                  <label for="newznab_${loop.index}_generalsearch" class="control-label">General Search:</label>
                  <input type="text" placeholder="General Search" id="newznab_${loop.index}_generalsearch" name="newznab_${loop.index}_generalsearch" value="${provider['GENERALSEARCH']}" class="form-control">
                </div>
                <div class="col-md-6">
                  <label for="newznab_${loop.index}_extended" class="control-label">Extended Search:</label>
                  <input type="text" placeholder="Extended Search" id="newznab_${loop.index}_extended" name="newznab_${loop.index}_extended" value="${provider['EXTENDED']}" class="form-control">
                </div>
                </div>
                  %if lazylibrarian.CONFIG['EBOOK_TAB'] == True:
                <div class="row form-group" ${hidden}>
                <div class="col-md-6">
                  <label for="newznab_${loop.index}_booksearch" class="control-label">eBook Search:</label>
                  <input type="text" placeholder="none" id="newznab_${loop.index}_booksearch" name="newznab_${loop.index}_booksearch" value="${provider['BOOKSEARCH']}" class="form-control">
                </div>
                <div class="col-md-6">
                  <label for="newznab_${loop.index}_bookcat" class="control-label">eBook Categories:</label>
                  <input type="text" id="newznab_${loop.index}_bookcat" name="newznab_${loop.index}_bookcat" value="${provider['BOOKCAT']}" class="form-control">
                </div>
                </div>
                %endif
                %if lazylibrarian.CONFIG['MAG_TAB'] == True:
                <div class="row form-group" ${hidden}>
                <div class="col-md-6">
                  <label for="newznab_${loop.index}_magsearch" class="control-label">Magazine Search:</label>
                  <input type="text" placeholder="none" id="newznab_${loop.index}_magsearch" name="newznab_${loop.index}_magsearch" value="${provider['MAGSEARCH']}" class="form-control">
                </div>
                <div class="col-md-6">
                  <label for="newznab_${loop.index}_magcat" class="control-label">Magazine Categories:</label>
                  <input type="text" id="newznab_${loop.index}_magcat" name="newznab_${loop.index}_magcat" value="${provider['MAGCAT']}" class="form-control">
                </div>
                </div>
                %endif
                %if lazylibrarian.CONFIG['AUDIO_TAB'] == True:
                <div class="row form-group" ${hidden}>
                <div class="col-md-6">
                  <label for="newznab_${loop.index}_audiosearch" class="control-label">AudioBook Search:</label>
                  <input type="text" placeholder="none" id="newznab_${loop.index}_audiosearch" name="newznab_${loop.index}_audiosearch" value="${provider['AUDIOSEARCH']}" class="form-control">
                </div>
                <div class="col-md-6">
                  <label for="newznab_${loop.index}_audiocat" class="control-label">AudioBook Categories:</label>
                  <input type="text" id="newznab_${loop.index}_audiocat" name="newznab_${loop.index}_audiocat" value="${provider['AUDIOCAT']}" class="form-control">
                </div>
                </div>
                %endif
                %if lazylibrarian.CONFIG['COMIC_TAB'] == True:
                <div class="row form-group" ${hidden}>
                <div class="col-md-6">
                  <label for="newznab_${loop.index}_comicsearch" class="control-label">Comic Search:</label>
                  <input type="text" placeholder="none" id="newznab_${loop.index}_comicsearch" name="newznab_${loop.index}_comicsearch" value="${provider['COMICSEARCH']}" class="form-control">
                </div>
                <div class="col-md-6">
                  <label for="newznab_${loop.index}_comiccat" class="control-label">Comic Categories:</label>
                  <input type="text" id="newznab_${loop.index}_comiccat" name="newznab_${loop.index}_comiccat" value="${provider['COMICCAT']}" class="form-control">
                </div>
                </div>
                %endif
                <div class="row form-group" ${hidden}>
                <div class="col-md-6">
                  <label for="newznab_${loop.index}_apilimit" class="control-label">Daily API Limit: (used ${provider['APICOUNT']})</label>
                  <input type="number" placeholder="API Limit" id="newznab_${loop.index}_apilimit" name="newznab_${loop.index}_apilimit" value="${provider['APILIMIT']}" class="form-control">
                </div>
                <div class="col-md-6">
                  <label for="newznab_${loop.index}_ratelimit" class="control-label">Rate Limit:</label>
                  <input type="number" placeholder="Rate Limit" id="newznab_${loop.index}_ratelimit" name="newznab_${loop.index}_ratelimit" value="${provider['RATELIMIT']}" class="form-control">
                </div>
                <div class="checkbox col-md-6">
                  <%
                    if provider['MANUAL'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                    %>
                  <label for="newznab_${loop.index}_manual" class="control-label" ${hidden}>
                    <input type="checkbox" id="newznab_${loop.index}_manual" name="newznab_${loop.index}_manual" value="1" ${checked}  ${hidden}/>
                    Tick to lock settings</label>
                </div>
                </div>
                </div>
                %endfor
            </div>
            <div class="row">
                %for provider in lazylibrarian.TORZNAB_PROV:
                <%
                    if provider['HOST'] == "":
                        hidden = 'hidden="hidden"'
                    else:
                        hidden = ''
                %>
                <div class="col-md-6">
                <legend ${hidden}>${provider['DISPNAME']}</legend>
                <input type="text" id="torznab_${loop.index}_name" name="torznab_${loop.index}_name" value="${provider['NAME']}" class="hidden">
                <input type="text" id="torznab_${loop.index}_updated" name="torznab_${loop.index}_updated" value="${provider['UPDATED']}" class="hidden">
                <div class="row form-group" ${hidden}>
                <div class="col-md-6">
                  <label for="torznab_${loop.index}_generalsearch" class="control-label">General Search:</label>
                  <input type="text" placeholder="General Search" id="torznab_${loop.index}_generalsearch" name="torznab_${loop.index}_generalsearch" value="${provider['GENERALSEARCH']}" class="form-control">
                </div>
                <div class="col-md-6">
                  <label for="torznab_${loop.index}_extended" class="control-label">Extended Search:</label>
                  <input type="text" placeholder="Extended Search" id="torznab_${loop.index}_extended" name="torznab_${loop.index}_extended" value="${provider['EXTENDED']}" class="form-control">
                </div>
                </div>
                  %if lazylibrarian.CONFIG['EBOOK_TAB'] == True:
                <div class="row form-group" ${hidden}>
                <div class="col-md-6">
                  <label for="torznab_${loop.index}_booksearch" class="control-label">eBook Search:</label>
                  <input type="text" placeholder="none" id="torznab_${loop.index}_booksearch" name="torznab_${loop.index}_booksearch" value="${provider['BOOKSEARCH']}" class="form-control">
                </div>
                <div class="col-md-6">
                  <label for="torznab_${loop.index}_bookcat" class="control-label">eBook Categories:</label>
                  <input type="text" id="torznab_${loop.index}_bookcat" name="torznab_${loop.index}_bookcat" value="${provider['BOOKCAT']}" class="form-control">
                </div>
                </div>
                %endif
                %if lazylibrarian.CONFIG['MAG_TAB'] == True:
                <div class="row form-group" ${hidden}>
                <div class="col-md-6">
                  <label for="torznab_${loop.index}_magsearch" class="control-label">Magazine Search:</label>
                  <input type="text" placeholder="none" id="torznab_${loop.index}_magsearch" name="torznab_${loop.index}_magsearch" value="${provider['MAGSEARCH']}" class="form-control">
                </div>
                <div class="col-md-6">
                  <label for="torznab_${loop.index}_magcat" class="control-label">Magazine Categories:</label>
                  <input type="text" id="torznab_${loop.index}_magcat" name="torznab_${loop.index}_magcat" value="${provider['MAGCAT']}" class="form-control">
                </div>
                </div>
                %endif
                %if lazylibrarian.CONFIG['AUDIO_TAB'] == True:
                <div class="row form-group" ${hidden}>
                <div class="col-md-6">
                  <label for="torznab_${loop.index}_audiosearch" class="control-label">AudioBook Search:</label>
                  <input type="text" placeholder="none" id="torznab_${loop.index}_audiosearch" name="torznab_${loop.index}_audiosearch" value="${provider['AUDIOSEARCH']}" class="form-control">
                </div>
                <div class="col-md-6">
                  <label for="torznab_${loop.index}_audiocat" class="control-label">AudioBook Categories:</label>
                  <input type="text" id="torznab_${loop.index}_audiocat" name="torznab_${loop.index}_audiocat" value="${provider['AUDIOCAT']}" class="form-control">
                </div>
                </div>
                %endif
                %if lazylibrarian.CONFIG['COMIC_TAB'] == True:
                <div class="row form-group" ${hidden}>
                <div class="col-md-6">
                  <label for="torznab_${loop.index}_comicsearch" class="control-label">Comic Search:</label>
                  <input type="text" placeholder="none" id="torznab_${loop.index}_comicsearch" name="torznab_${loop.index}_comicsearch" value="${provider['COMICSEARCH']}" class="form-control">
                </div>
                <div class="col-md-6">
                  <label for="torznab_${loop.index}_comiccat" class="control-label">Comic Categories:</label>
                  <input type="text" id="torznab_${loop.index}_comiccat" name="torznab_${loop.index}_comiccat" value="${provider['COMICCAT']}" class="form-control">
                </div>
                </div>
                %endif
                <div class="row form-group" ${hidden}>
                <div class="col-md-6">
                  <label for="torznab_${loop.index}_apilimit" class="control-label">Daily API Limit: (used ${provider['APICOUNT']})</label>
                  <input type="number" placeholder="API Limit" id="torznab_${loop.index}_apilimit" name="torznab_${loop.index}_apilimit" value="${provider['APILIMIT']}" class="form-control">
                </div>
                <div class="col-md-6">
                  <label for="torznab_${loop.index}_ratelimit" class="control-label">Rate Limit:</label>
                  <input type="number" placeholder="Rate Limit" id="torznab_${loop.index}_ratelimit" name="torznab_${loop.index}_ratelimit" value="${provider['RATELIMIT']}" class="form-control">
                </div>
                <div class="checkbox col-md-6">
                  <%
                    if provider['MANUAL'] == True:
                        checked = 'checked="checked"'
                    else:
                        checked = ''
                  %>
                  <label for="torznab_${loop.index}_manual" class="control-label" ${hidden}>
                    <input type="checkbox" id="torznab_${loop.index}_manual" name="torznab_${loop.index}_manual" value="1" ${checked} ${hidden}/>
                    Tick to lock settings</label>
                </div>
                </div>
              </div>
            %endfor
            </div>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="filters">
          <div class="configtable">
            <div class="row">
                %if lazylibrarian.CONFIG['EBOOK_TAB'] == True:
                <div class="col-md-6">
                <legend>Book Reject List</legend>
                <div class="form-group">
                  <input type="text" id="reject_words" name="reject_words" value="${lazylibrarian.CONFIG['REJECT_WORDS']}" class="form-control" placeholder="Reject word list">
                  <span class="help-block">Comma separated list of words to reject:<br/>
                    Search results with any of these words in the title or filenames<br>
                    (where available) will be ignored<br/>
                  </span>
                </div>
                </div>
                <div class="col-md-6">
                <legend>Publisher Reject List</legend>
                <div class="form-group">
                  <input type="text" id="reject_publisher" name="reject_publisher" value="${lazylibrarian.CONFIG['REJECT_PUBLISHER']}" class="form-control" placeholder="Reject publishers">
                  <span class="help-block">Comma separated list of publishers to reject:<br/>
                    Libraryscan will ignore books by these publishers on import<br>
                    if found in opf files or goodreads info<br/>
                  </span>
                </div>
                </div>
                <br>
                %endif
                %if lazylibrarian.CONFIG['AUDIO_TAB'] == True:
                <div class="col-md-6">
                <legend>AudioBook Reject List</legend>
                <div class="form-group">
                  <input type="text" id="reject_audio" name="reject_audio" value="${lazylibrarian.CONFIG['REJECT_AUDIO']}" class="form-control" placeholder="Reject word list">
                  <span class="help-block">Comma separated list of words to reject:<br/>
                    Search results with any of these words in the title or filenames<br>
                    (where available) will be ignored<br/>
                  </span>
                </div>
                </div>
                %endif
                %if lazylibrarian.CONFIG['MAG_TAB'] == True:
                <div class="col-md-6">
                <legend>Magazine Reject List (all titles)</legend>
                <div class="form-group">
                  <input type="text" id="reject_mags" name="reject_mags" value="${lazylibrarian.CONFIG['REJECT_MAGS']}" class="form-control" placeholder="Reject word list">
                  <span class="help-block">Comma separated list of words to reject:<br/>
                    Search results with any of these words in the title or filenames<br>
                    (where available) will be ignored<br/>
                  </span>
                </div>
                </div>
                %endif
                %if lazylibrarian.CONFIG['COMIC_TAB'] == True:
                <div class="col-md-6">
                <legend>Comic Reject List (all titles)</legend>
                <div class="form-group">
                  <input type="text" id="reject_comic" name="reject_comic" value="${lazylibrarian.CONFIG['REJECT_COMIC']}" class="form-control" placeholder="Reject word list">
                  <span class="help-block">Comma separated list of words to reject:<br/>
                    Search results with any of these words in the title will be ignored<br/>
                  </span>
                </div>
                </div>
                %endif
                <div class="col-md-6">
                <legend>Extension Reject List (all types)</legend>
                <div class="form-group">
                  <input type="text" id="banned_ext" name="banned_ext" value="${lazylibrarian.CONFIG['BANNED_EXT']}" class="form-control" placeholder="Reject extensions list">
                  <span class="help-block">Comma separated list of extensions to reject:<br/>
                    Results with any of these extensions in the filenames will be rejected<br/>
                    (where info is available)<br/>
                  </span>
                </div>
                </div>
                  %if lazylibrarian.CONFIG['EBOOK_TAB'] == True:
                <div class="col-md-6">
                <legend>eBook Size Limits</legend>
                  <div class="input-group">
                    <label for="reject_minsize" class="input-group-addon">Min size</label>
                    <input type="number" id="reject_minsize" name="reject_minsize" value="${lazylibrarian.CONFIG['REJECT_MINSIZE']}" class="form-control" placeholder="Reject minimum size">
                    <label for="reject_maxsize" class="input-group-addon">Max size</label>
                    <input type="number" id="reject_maxsize" name="reject_maxsize" value="${lazylibrarian.CONFIG['REJECT_MAXSIZE']}" class="form-control" placeholder="Reject maximum size">
                    <span class="input-group-addon">Mb</span>
                  </div>
                </div>
                %endif
                %if lazylibrarian.CONFIG['AUDIO_TAB'] == True:
                <div class="col-md-6">
                <legend>AudioBook Size Limits</legend>
                 <div class="input-group">
                    <label for="reject_minaudio" class="input-group-addon">Min size</label>
                    <input type="number" id="reject_minaudio" name="reject_minaudio" value="${lazylibrarian.CONFIG['REJECT_MINAUDIO']}" class="form-control" placeholder="Reject minimum size">
                    <label for="reject_maxaudio" class="input-group-addon">Max size</label>
                    <input type="number" id="reject_maxaudio" name="reject_maxaudio" value="${lazylibrarian.CONFIG['REJECT_MAXAUDIO']}" class="form-control" placeholder="Reject maximum size">
                    <span class="input-group-addon">Mb</span>
                  </div>
                </div>
                %endif
                %if lazylibrarian.CONFIG['COMIC_TAB'] == True:
                <div class="col-md-6">
                <legend>Comic Size Limits</legend>
                 <div class="input-group">
                    <label for="reject_mincomic" class="input-group-addon">Min size</label>
                    <input type="number" id="reject_mincomic" name="reject_mincomic" value="${lazylibrarian.CONFIG['REJECT_MINCOMIC']}" class="form-control" placeholder="Reject minimum size">
                    <label for="reject_maxcomic" class="input-group-addon">Max size</label>
                    <input type="number" id="reject_maxcomic" name="reject_maxcomic" value="${lazylibrarian.CONFIG['REJECT_MAXCOMIC']}" class="form-control" placeholder="Reject maximum size">
                    <span class="input-group-addon">Mb</span>
                  </div>
                </div>
                %endif
                %if lazylibrarian.CONFIG['MAG_TAB'] == True:
                <div class="col-md-6">
                <br>
                <legend>Magazine Size Limits</legend>
                  <div class="input-group">
                    <label for="reject_magmin" class="input-group-addon">Min size</label>
                    <input type="number" id="reject_magmin" name="reject_magmin" value="${lazylibrarian.CONFIG['REJECT_MAGMIN']}" class="form-control" placeholder="Reject minimum size">
                    <label for="reject_magsize" class="input-group-addon">Max size</label>
                    <input type="number" id="reject_magsize" name="reject_magsize" value="${lazylibrarian.CONFIG['REJECT_MAGSIZE']}" class="form-control" placeholder="Reject maximum size">
                    <span class="input-group-addon">Mb</span>
                  </div>
                </div>
                <div class="col-md-12">
                <br>
                <legend>Magazine Options (per title)</legend>
                </div>
                %for mag in config['magazines_list']:
                <div class="col-md-6">
                <label>${mag['Title']}</label>
                  <div class="input-group">
                    <label for="reject_list[${mag['Title']}]" class="input-group-addon">Reject&nbsp;</label>
                    <input type="text" id="reject_list[${mag['Title']}]" name="reject_list[${mag['Title']}]" value="${mag['Reject']}" class="form-control" placeholder="Reject word list">
                  </div>
                  <div class="input-group">
                    <label for="regex[${mag['Title']}]" class="input-group-addon">Search</label>
                    <input type="text" id="regex[${mag['Title']}]" name="regex[${mag['Title']}]" value="${mag['Regex']}" class="form-control" placeholder="Search expression">
                  </div>
                  <div class="input-group">
                    <label for="datetype[${mag['Title']}]" class="input-group-addon">Date Style</label>
                    <input type="text" id="datetype[${mag['Title']}]" name="datetype[${mag['Title']}]" value="${mag['DateType']}" class="form-control" placeholder="auto">
                    <label for="coverpage[${mag['Title']}]" class="input-group-addon">Cover Page</label>
                    <input type="number" id="coverpage[${mag['Title']}]" name="coverpage[${mag['Title']}]" value="${mag['CoverPage']}" min=1 class="form-control" placeholder="1">
                  </div>
                </div>
                %endfor
                %endif
                <div class="col-md-6">
                <label>Settings:</label><br>
                <input type="button" value="Export Filters" id="savefilters" class="btn btn-default" />
                <input type="button" value="Import Filters" id="loadfilters" class="btn btn-default" />
                  <div class="pull-right table_wrapper_button">
                    <input type="submit" value="Save changes" id="add" class="btn btn-primary">
                  </div>
                </div>
            </div>
            <br>
          </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="genres">
          <div class="configtable">
            <div class="row">
              <div class="col-md-6">
                <legend>Genre Settings</legend>
                <div class="input-group">
                  <span class="input-group-addon">Genres per book</span>
                  <input type="number" id="genrelimit" name="genrelimit" value="${lazylibrarian.GRGENRES['genreLimit']}" class="form-control">
                  <span class="input-group-addon">Genre Users</span>
                  <input type="number" id="genreusers" name="genreusers" value="${lazylibrarian.GRGENRES['genreUsers']}" class="form-control">
                </div>
              </div>
            </div>
            <p>
            <div class="row">
              <div class="col-md-12">
                <legend>Reject Genres</legend>
                <div class="form-group">
                  <input type="text" id="genreexclude" name="genreexclude" value="${', '.join(i for i in sorted(lazylibrarian.GRGENRES['genreExclude']))}" class="form-control" placeholder="Reject word list">
                  <span class="help-block">Comma separated list of genres to reject: Results that match any of these words will be ignored<br/>
                  </span>
                </div>
                <legend>Reject Parts</legend>
                <div class="form-group">
                  <input type="text" id="genreexcludeparts" name="genreexcludeparts" value="${', '.join(i for i in sorted(lazylibrarian.GRGENRES['genreExcludeParts']))}" class="form-control" placeholder="Reject word list">
                  <span class="help-block">Comma separated list of part-words in genres to reject: Results that contain any of these part-words will be ignored<br/>
                  </span>
                </div>
                <legend>Replace Genre</legend>
                  <span class="help-block">Replace one genre name with another (replace happens <i>before</i> processing reject lists)<br/>
                  </span>
                  <div class="input-group col-md-6">
                    <span class="input-group-addon">Replace genre</span>
                    <input type="text" id="genreold" name="genreold" value="" class="form-control">
                    <span class="input-group-addon">with</span>
                    <input type="text" id="genrenew" name="genrenew" value="" class="form-control">
                  </div>
                  <br>
                  <span class="help-block">To remove an existing entry leave the text box below it empty<br/>
                  </span>
                  %for item in sorted(lazylibrarian.GRGENRES['genreReplace']):
                  <div class="col-md-4">
                    <label>${item}</label>
                    <input type="text" id="genrereplace[${item}]" name="genrereplace[${item}]" value="${lazylibrarian.GRGENRES['genreReplace'][item]}" class="form-control" placeholder="<delete>">
                  </div>
                  %endfor
              </div>
            </div>
          </div>
        </div>
      </div>
    <!-- tabs content -->
    </div>
    <!-- tabs -->
    <p>&nbsp;</p>
    <p style="text-align:center;color:grey">Repo: https://${lazylibrarian.CONFIG['GIT_HOST']}/${lazylibrarian.CONFIG['GIT_USER']}/${lazylibrarian.CONFIG['GIT_REPO']}  :     Branch: ${lazylibrarian.CONFIG['GIT_BRANCH']}  :  Updated: ${config['updated']}<br>
    Current Version: ${lazylibrarian.CONFIG['CURRENT_VERSION']}  : Latest  Version:    ${lazylibrarian.CONFIG['LATEST_VERSION']}</p>
  </div>
<!-- form -->
</form>
</%def>
<%def name="javascriptIncludes()">
  <%include file="config_functions.js"/>
  <script type="text/javascript">
    $(document).ready(function() {
        initThisPage();
    });
  </script>
</%def>
<html><head></head><body></body></html>
